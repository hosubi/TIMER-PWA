<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ï≤úÏñµÎ∂ÄÏûê ÌÉÄÏù¥Î®∏ - ÌååÏù¥ÎÑê ÌîÑÎ¶¨ÎØ∏ÏóÑ</title>
    <style>
        /* ÌîÑÎ¶¨ÎØ∏ÏóÑ ÌôîÏù¥Ìä∏/Î∏îÎûô/Í≥®Îìú ÌÖåÎßà */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', system-ui, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #ffffff 100%);
            color: #000000;
            line-height: 1.6;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* ÌÅ¨Î°¨ ÌôïÏû• ÌåùÏóÖ Ï†ÑÏö© ÏÇ¨Ïù¥Ï¶à Í≥†Ï†ï (Ï¥àÍ∏∞ Ìè≠/ÎÜíÏù¥ ÏôúÍ≥° Î∞©ÏßÄ) */
        body.chrome-ext {
            width: 420px;
            min-width: 420px;
            height: 600px;
            min-height: 600px;
            overflow: hidden;
        }

        .app-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* Îã®ÏÉâ SVG ÏïÑÏù¥ÏΩò ÏãúÏä§ÌÖú */
        .icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            font-size: 16px;
            font-weight: 600;
        }

        .icon-target::before { content: "‚¶ø"; }
        .icon-list::before { content: "‚ò∞"; }
        .icon-timer::before { content: "‚ßñ"; }
        .icon-bulb::before { content: "‚óâ"; }
        .icon-play::before { content: "‚ñ∂"; }
        .icon-pause::before { content: "‚è∏"; }
        .icon-stop::before { content: "‚èπ"; }
        .icon-complete::before { content: "‚úì"; }
        .icon-give-up::before { content: "‚úó"; }
        .icon-edit::before { content: "‚úé"; }
        .icon-delete::before { content: "‚å´"; }
        .icon-convert::before { content: "‚üπ"; }
        .icon-plus::before { content: "+"; }
        .icon-save::before { content: "‚úì"; }
        .icon-cancel::before { content: "‚úï"; }
        .icon-menu::before { content: "‚ãØ"; }
        .icon-settings::before { content: "‚öô"; }
        .icon-close::before { content: "‚úï"; }
        .icon-report::before { content: "‚ñ¶"; }

        /* Ìó§Îçî */
        .header {
            background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
            padding: 12px 16px;
            border-bottom: 1px solid #d4af37;
            box-shadow: 0 2px 12px rgba(212,175,55,0.12);
            position: relative;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .header::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #d4af37, #b8860b, #daa520);
        }

        .header-left { display: flex; align-items: baseline; gap: 8px; }
        .header-center { flex: 1; text-align: center; }
        .header-status { display: inline-flex; gap: 12px; align-items: center; }
        .header-pill { background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 999px; padding: 6px 10px; font-size: 12px; font-weight: 700; color: #333; }
        .header-pill.gold { border-color: #d4af37; color: #d4af37; }

        .header h1 {
            font-size: 24px;
            font-weight: 800;
            color: #000000;
            margin-bottom: 5px;
            letter-spacing: -0.8px;
        }

        .header .subtitle {
            color: #666666;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .menu-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            border-radius: 12px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(212,175,55,0.3);
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212,175,55,0.4);
        }

        .subad-badge { position: static; background: none; color: #d4af37; font-weight: 800; padding: 0; border-radius: 0; font-size: 12px; text-decoration: none; }
        .subad-badge:hover { text-decoration: underline; }

        /* Î©îÏù∏ ÏΩòÌÖêÏ∏† ÏòÅÏó≠ */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 80px;
            -webkit-overflow-scrolling: touch;
        }

        /* ÌÉ≠ ÏΩòÌÖêÏ∏† */
        .tab-content {
            display: none;
            padding: 25px;
            height: 100%;
            overflow-y: auto;
        }

        .tab-content.active {
            display: block;
        }

        /* Î™©Ìëú ÏÑ§Ï†ï ÌÉ≠ - ÏãúÏûë ÌôîÎ©¥ */
        .goal-setup {
            text-align: center;
            padding: 40px 20px;
        }

        .setup-title {
            font-size: 28px;
            font-weight: 800;
            color: #000000;
            margin-bottom: 15px;
            letter-spacing: -1px;
        }

        .setup-subtitle {
            font-size: 16px;
            color: #666666;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        .goal-input-section {
            background: #ffffff;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 2px solid #d4af37;
            box-shadow: 0 8px 30px rgba(212,175,55,0.2);
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            font-size: 15px;
            font-weight: 700;
            color: #000000;
            margin-bottom: 10px;
            text-align: left;
        }

        .input-group input, .input-group textarea {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            background: #ffffff;
            transition: all 0.3s ease;
            text-align: center;
        }

        .input-group input:focus, .input-group textarea:focus {
            outline: none;
            border-color: #d4af37;
            box-shadow: 0 0 0 4px rgba(212,175,55,0.15);
            transform: translateY(-2px);
        }

        .input-group textarea {
            min-height: 120px;
            resize: vertical;
            text-align: left;
        }

        .currency-symbol {
            position: relative;
        }

        .currency-symbol::before {
            content: '‚Ç©';
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            font-weight: 700;
            color: #d4af37;
            z-index: 10;
        }

        .currency-symbol input {
            padding-left: 45px;
        }

        .conversion-display {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
        }

        .conversion-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .conversion-card {
            background: #ffffff;
            padding: 18px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid #e9ecef;
            position: relative;
            overflow: hidden;
        }

        .conversion-card.current {
            border-left: 4px solid #6c757d;
        }

        .conversion-card.target {
            border-left: 4px solid #d4af37;
        }

        .conversion-label {
            font-size: 12px;
            color: #666666;
            font-weight: 700;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .conversion-value {
            font-size: 18px;
            font-weight: 800;
            color: #d4af37;
            margin-bottom: 6px;
        }

        .conversion-value.current {
            color: #6c757d;
        }

        .conversion-delta {
            font-size: 11px;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: 12px;
            background: rgba(212,175,55,0.1);
            color: #d4af37;
        }

        .daily-focus-card {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            padding: 20px;
            border-radius: 15px;
            margin-top: 15px;
            border: 2px solid #d4af37;
            text-align: center;
        }

        .daily-focus-title {
            font-size: 14px;
            font-weight: 700;
            color: #000000;
            margin-bottom: 10px;
        }

        .daily-focus-time {
            font-size: 28px;
            font-weight: 800;
            color: #d4af37;
            margin-bottom: 5px;
        }

        .daily-focus-subtitle {
            font-size: 12px;
            color: #666666;
            font-weight: 600;
        }

        /* Ïù¥Ïùµ/ÏÜêÏã§ ÌÜµÍ≥Ñ ÌëúÏãú */
        .profit-loss-stats {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 25px;
            border-radius: 20px;
            margin-top: 20px;
            border: 2px solid #d4af37;
            box-shadow: 0 8px 30px rgba(212,175,55,0.15);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #e9ecef;
        }

        .stat-item.profit {
            border-left: 4px solid #d4af37;
        }

        .stat-item.loss {
            border-left: 4px solid #000000;
        }

        .stat-label {
            font-size: 12px;
            color: #666666;
            font-weight: 700;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 800;
        }

        .stat-value.profit-color {
            color: #d4af37;
        }

        .stat-value.loss-color {
            color: #000000;
        }

        .days-info {
            text-align: center;
            font-size: 14px;
            color: #666666;
            font-weight: 600;
        }

        .gold-button {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 50%, #daa520 100%);
            color: #ffffff;
            border: none;
            padding: 18px 40px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(212,175,55,0.4);
            letter-spacing: 0.5px;
            width: 100%;
        }

        .gold-button:hover, .gold-button:active {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(212,175,55,0.5);
        }

        /* Î™©Ìëú ÌëúÏãú (ÏÑ§Ï†ï ÏôÑÎ£å ÌõÑ) */
        .goal-display {
            background: #ffffff;
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 2px solid #d4af37;
            box-shadow: 0 8px 30px rgba(212,175,55,0.15);
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .goal-header h2 {
            font-size: 20px;
            color: #000000;
            font-weight: 800;
        }

        .goal-actions {
            display: flex;
            gap: 10px;
        }

        .edit-btn, .reset-btn {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
        }

        .reset-btn {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
        }

        .edit-btn:hover, .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .setup-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }

        .back-btn {
            background: none;
            border: 2px solid #d4af37;
            color: #d4af37;
            padding: 8px 12px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            position: absolute;
            left: 0;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #d4af37;
            color: white;
        }

        .setup-title {
            flex: 1;
            text-align: center;
            margin: 0;
        }

        .goal-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .goal-item {
            background: linear-gradient(135deg, #fafafa 0%, #ffffff 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #e9ecef;
        }

        .goal-label {
            font-size: 12px;
            color: #666666;
            font-weight: 700;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .goal-value {
            font-size: 20px;
            font-weight: 800;
            color: #d4af37;
            margin-bottom: 4px;
        }

        .goal-amount {
            font-size: 12px;
            font-weight: 600;
            color: #666666;
            letter-spacing: 0.3px;
        }

        /* ÏßÑÌñâÎ•† ÏõêÌòï Í≤åÏù¥ÏßÄ */
        .progress-section {
            text-align: center;
        }

        .progress-circle {
            width: 140px;
            height: 140px;
            margin: 0 auto 20px;
            position: relative;
        }

        .progress-circle svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-circle .bg-circle {
            fill: none;
            stroke: #e9ecef;
            stroke-width: 8;
        }

        .progress-circle .progress-circle-fill {
            fill: none;
            stroke: url(#goldGradient);
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dasharray 0.5s ease;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 22px;
            font-weight: 800;
            color: #d4af37;
        }

        /* ÏÑπÏÖò Ìó§Îçî */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-header h2 {
            font-size: 22px;
            color: #000000;
            font-weight: 800;
        }

        .add-btn {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(212,175,55,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ÏûÖÎ†• Ìèº */
        .input-form {
            background: #ffffff;
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 2px solid #d4af37;
            box-shadow: 0 8px 30px rgba(212,175,55,0.15);
            display: none;
        }

        .time-selector {
            margin-bottom: 20px;
        }

        .time-chips {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .time-slider-container {
            margin-bottom: 15px;
        }

        .time-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e9ecef;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .time-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(212,175,55,0.4);
        }

        .time-slider::-moz-range-thumb {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(212,175,55,0.4);
        }

        .time-display {
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 10px;
        }

        .money-preview {
            text-align: center;
            font-size: 12px;
            color: #666666;
            margin-bottom: 15px;
        }

        .repeat-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .option-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            text-align: center;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #ffffff;
            color: #666666;
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            border-color: #d4af37;
            box-shadow: 0 4px 15px rgba(212,175,55,0.3);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn.primary {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(212,175,55,0.3);
        }

        .btn.secondary {
            background: #f8f9fa;
            color: #666666;
            border: 2px solid #e9ecef;
        }

        /* ÏïÑÏù¥ÌÖú Î™©Î°ù */
        .item-list {
            display: flex;
            flex-direction: column;
        }

        .list-item {
            background: #ffffff;
            padding: 20px;
            border-radius: 18px;
            margin-bottom: 15px;
            border: 1px solid #e9ecef;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .item-content {
            flex: 1;
        }

        .item-title {
            font-size: 16px;
            font-weight: 700;
            color: #000000;
            margin-bottom: 6px;
        }

        .item-meta {
            font-size: 13px;
            color: #666666;
            font-weight: 600;
        }

        .item-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-btn.start {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
        }

        .action-btn.edit {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
        }

        .action-btn.delete {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
            color: white;
        }

        .action-btn.convert {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
        }

        /* ÌÉÄÏù¥Î®∏ */
        .timer-container {
            text-align: center;
            padding: 20px;
        }

        /* Î™®Î∞îÏùº ÏµúÏ†ÅÌôîÎêú ÌÉÄÏù¥Î®∏ Ï†ïÎ≥¥ Ïπ¥Îìú */
        .timer-info-cards {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            justify-content: center;
        }

        .info-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 16px;
            padding: 16px;
            flex: 1;
            max-width: 160px;
            border: 2px solid #e9ecef;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .earning-card {
            border-color: #d4af37;
            background: linear-gradient(135deg, #fff8e1 0%, #ffffff 100%);
        }

        .loss-card {
            border-color: #dc3545;
            background: linear-gradient(135deg, #ffe5e7 0%, #ffffff 100%);
        }

        .card-icon {
            font-size: 20px;
            width: 32px;
            text-align: center;
        }

        .card-content {
            flex: 1;
        }

        .card-label {
            font-size: 11px;
            font-weight: 700;
            color: #666666;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-amount {
            font-size: 18px;
            font-weight: 800;
            color: #d4af37;
            line-height: 1;
        }

        .loss-card .card-amount { color: #dc3545; }

        /* Îç∞Ïä§ÌÅ¨ÌÜ±Ïö© Ïà®ÍπÄ */
        .desktop-only {
            display: block;
        }

        .timer-circle {
            width: 300px;
            height: 300px;
            margin: 0 auto 30px;
            position: relative;
        }

        .timer-circle svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .timer-circle .timer-bg {
            fill: none;
            stroke: #e9ecef;
            stroke-width: 22;
        }

        .timer-circle .timer-progress {
            fill: none;
            stroke: url(#timerGradient);
            stroke-width: 22;
            stroke-linecap: round;
            transition: stroke-dasharray 0.1s linear;
        }

        .timer-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .timer-time {
            font-size: 42px;
            font-weight: 800;
            color: #000000;
            line-height: 1;
            margin-bottom: 8px;
        }

        .timer-task-name {
            font-size: 14px;
            color: #666666;
            font-weight: 600;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 30px;
        }

        .timer-btn {
            width: 65px;
            height: 65px;
            border: none;
            border-radius: 15px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .timer-btn.play-pause {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
        }

        .timer-btn.complete {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
        }

        .timer-btn.give-up {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
            color: white;
        }

        /* Îèà ÌëúÏãú */
        .money-display {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 25px;
            border-radius: 20px;
            margin-top: 25px;
            text-align: center;
            border: 2px solid #d4af37;
            box-shadow: 0 8px 30px rgba(212,175,55,0.2);
        }

        .money-earning {
            margin-bottom: 20px;
        }

        .money-amount {
            font-size: 36px;
            font-weight: 800;
            color: #d4af37;
            margin-bottom: 5px;
        }

        .money-status {
            font-size: 14px;
            color: #666666;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .money-loss { background: linear-gradient(135deg, #ffe5e7 0%, #ffd6da 100%); padding: 15px; border-radius: 12px; border: 1px solid #dc3545; }

        .loss-label { font-size: 12px; color: #dc3545; font-weight: 700; margin-bottom: 5px; text-transform: uppercase; }

        .loss-amount { font-size: 20px; font-weight: 800; color: #dc3545; }

        /* Î°úÏßÅ ÏÑ§Î™Ö Î∞ïÏä§ */
        .logic-explanation { background: #ffffff; padding: 20px; border-radius: 15px; margin-top: 20px; border: 1px solid #e9ecef; }

        .logic-title {
            font-size: 16px;
            font-weight: 700;
            color: #000000;
            margin-bottom: 10px;
        }

        .logic-content {
            font-size: 14px;
            color: #666666;
            line-height: 1.5;
        }

        /* ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            background: #ffffff;
            border-top: 1px solid #eeeeee;
            padding: 10px 0 18px 0;
            display: flex;
            justify-content: space-around;
            z-index: 1000;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 8px 4px;
            cursor: pointer;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .nav-item.active {
            transform: none;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
            display: block;
            color: #999999;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .nav-item.active .nav-icon {
            color: #d4af37;
            transform: scale(1.05);
        }

        .nav-label {
            font-size: 11px;
            font-weight: 700;
            color: #999999;
            transition: color 0.2s ease;
        }

        .nav-item.active .nav-label {
            color: #d4af37;
        }

        /* Î∞òÏùëÌòï */
        @media (max-width: 768px) {
            .timer-info-cards {
                display: flex;
            }
            
            .desktop-only {
                display: none;
            }
            
            .timer-circle {
                width: 280px;
                height: 280px;
                margin-bottom: 20px;
            }
            
            .timer-time {
                font-size: 38px;
            }
        }

        @media (min-width: 769px) {
            .timer-info-cards {
                display: none;
            }
            
            .desktop-only {
                display: block;
            }
        }

        @media (max-width: 375px) {
            .timer-circle {
                width: 250px;
                height: 250px;
            }
            
            .timer-time {
                font-size: 32px;
            }
            
            .info-card {
                padding: 12px;
                max-width: 140px;
            }
            
            .card-amount {
                font-size: 16px;
            }
        }

        /* Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        .shake {
            animation: shake 0.5s ease-in-out;
        }

        /* ÏÑ§Ï†ï Î©îÎâ¥ Ïò§Î≤ÑÎ†àÏù¥ */
        .settings-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .settings-panel {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .settings-title {
            font-size: 20px;
            font-weight: 800;
            color: #000000;
        }

        .close-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: #f8f9fa;
            border-radius: 50%;
            color: #666666;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-info {
            flex: 1;
        }

        .setting-label {
            font-size: 15px;
            font-weight: 600;
            color: #000000;
            margin-bottom: 4px;
        }

        .setting-desc {
            font-size: 12px;
            color: #666666;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 28px;
            background: #e9ecef;
            border-radius: 14px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-switch.active {
            background: #d4af37;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .toggle-switch.active::after {
            transform: translateX(22px);
        }

        .motivation-banner {
            background: linear-gradient(135deg, #fff8e1 0%, #f3e5f5 100%);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid #d4af37;
            text-align: center;
            display: none;
        }

        .banner-title {
            font-size: 16px;
            font-weight: 700;
            color: #000000;
            margin-bottom: 8px;
        }

        .banner-subtitle {
            font-size: 11px;
            color: #999999;
            margin-bottom: 10px;
            line-height: 1.3;
        }
        
        /* Î≥¥Í≥†ÏÑú Î™®Îã¨ */
        .report-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2100;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .report-modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffffff;
            border-radius: 20px;
            padding: 24px;
            width: 92%;
            max-width: 420px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 2px solid #d4af37;
        }

        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .report-title {
            font-size: 18px;
            font-weight: 800;
            color: #000000;
        }

        .report-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 16px;
        }

        .report-item {
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 12px;
            text-align: center;
        }

        .report-item .label {
            font-size: 11px;
            color: #666666;
            font-weight: 700;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .report-item .value {
            font-size: 16px;
            font-weight: 800;
            color: #000000;
        }

        .report-item.gold .value { color: #d4af37; }
        .report-item.black .value { color: #000000; }

        .report-message {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid rgba(255,193,7,0.3);
            border-radius: 12px;
            padding: 12px;
            font-size: 13px;
            color: #856404;
            font-weight: 600;
            text-align: center;
            margin-bottom: 14px;
        }

        .report-chart {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 14px;
        }

        .chart-row { display: flex; align-items: center; margin-bottom: 8px; }
        .chart-row:last-child { margin-bottom: 0; }
        .chart-label { width: 60px; font-size: 12px; color: #666; font-weight: 700; }
        .chart-track { flex: 1; height: 10px; background: #eeeeee; border-radius: 6px; overflow: hidden; }
        .chart-fill { height: 100%; border-radius: 6px; }
        .chart-fill.gold { background: linear-gradient(90deg, #d4af37, #b8860b); }
        .chart-fill.black { background: #000000; }

        .report-actions { display: flex; gap: 10px; }
        .report-actions .btn { flex: 1; }

        .banner-cta {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .banner-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212,175,55,0.4);
        }

        /* Ïã¨Ìîå ÏÑ±Ï∑® ÏãúÏä§ÌÖú */
        .simple-achievements {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 20px;
            border-radius: 15px;
            margin-top: 15px;
            border: 1px solid #e9ecef;
        }

        .achievement-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .achievement-item:last-child {
            margin-bottom: 0;
        }

        .achievement-icon {
            font-size: 18px;
            margin-right: 12px;
            width: 24px;
            text-align: center;
        }

        .achievement-text {
            font-size: 14px;
            color: #666666;
            font-weight: 500;
        }

        .achievement-text strong {
            color: #d4af37;
            font-weight: 800;
        }

        /* Ïò§ÎäòÏùò ÎèôÍ∏∞Î∂ÄÏó¨ */
        .daily-motivation {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            text-align: center;
            border: 1px solid rgba(255,193,7,0.3);
        }

        .motivation-text {
            font-size: 14px;
            font-weight: 600;
            color: #856404;
        }

        /* Í≥µÏú† Î≤ÑÌäº */
        .share-btn {
            width: 100%;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 700;
            margin-top: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40,167,69,0.3);
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40,167,69,0.4);
        }

        /* Ïò§ÎäòÏùò ÎØ∏ÏÖò */
        .daily-mission {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0fff0 100%);
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            border: 1px solid rgba(40,167,69,0.2);
        }

        .mission-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .mission-icon {
            font-size: 16px;
            margin-right: 8px;
        }

        .mission-title {
            font-size: 14px;
            font-weight: 700;
            color: #2d5016;
        }

        .mission-content {
            font-size: 13px;
            color: #4a7c59;
            font-weight: 600;
            padding-left: 24px;
        }

        /* Ïà®ÍπÄ Ï≤òÎ¶¨ */
        .hidden {
            display: none !important;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
        <!-- ÌôïÏû• ÌåùÏóÖÏóêÏÑúÎäî inline Ïä§ÌÅ¨Î¶ΩÌä∏Í∞Ä Ï∞®Îã®Îê† Ïàò ÏûàÏñ¥ Ï†úÍ±∞ -->

  <meta name="theme-color" content="#111111">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="icon" href="/icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
</head>
<body>
    <div class="app-container">
        <!-- Ìó§Îçî -->
        <div class="header">
            <div class="header-left">
                <h1>Ï≤úÏñµÎ∂ÄÏûê ÌÉÄÏù¥Î®∏</h1>
                <a href="https://subad.kr?utm_source=billionaire_timer&placement=header" target="_blank" class="subad-badge">subad.kr</a>
            </div>
            <div class="header-center">
                <div class="header-status">
                    <span class="header-pill gold" id="header-net">ÏàúÏùµ ‚Ç©0</span>
                    <span class="header-pill" id="header-streak">Ïó∞ÏÜç 0Ïùº</span>
                </div>
            </div>
            <button class="menu-btn" id="menu-btn">
                <span class="icon icon-menu"></span>
            </button>
        </div>

        <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
        <div class="main-content">
            <!-- Î™©Ìëú ÏÑ§Ï†ï ÌÉ≠ -->
            <div class="tab-content active" id="goals-tab">
                <!-- Ï¥àÍ∏∞ ÏÑ§Ï†ï ÌôîÎ©¥ -->
                <div class="goal-setup" id="goal-setup">
                    <div class="setup-header">
                        <button class="back-btn hidden" id="back-to-goal" onclick="showGoalDisplay()">
                            <span class="icon">‚Üê</span>
                            Îí§Î°ú
                        </button>
                        <h2 class="setup-title">Î™©Ìëú ÏÑ§Ï†ï</h2>
                    </div>
                    <p class="setup-subtitle">ÏÑ±Í≥µÏùÑ ÏúÑÌïú Ï≤´ Í±∏Ïùå,<br>ÎãπÏã†Ïùò ÏãúÍ∏â Î™©ÌëúÎ•º ÏÑ§Ï†ïÌïòÏÑ∏Ïöî</p>
                    
                    <div class="goal-input-section">
                        <div class="input-group">
                            <label>ÌòÑÏû¨ ÏãúÍ∏â</label>
                            <div class="currency-symbol">
                                <input type="number" id="current-hourly-input" placeholder="15000" min="0">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Î™©Ìëú ÏãúÍ∏â</label>
                            <div class="currency-symbol">
                                <input type="number" id="target-hourly-input" placeholder="100000" min="0">
                            </div>
                        </div>
                        
                        <div class="conversion-display" id="conversion-display" style="display: none;">
                            <div class="conversion-grid">
                                <div class="conversion-card current">
                                    <div class="conversion-label">ÌòÑÏû¨ ÏõîÍ∏â</div>
                                    <div class="conversion-value current" id="current-monthly">‚Ç©0</div>
                                    <div class="conversion-delta" id="current-monthly-delta">22Ïùº 8ÏãúÍ∞Ñ</div>
                                </div>
                                <div class="conversion-card target">
                                    <div class="conversion-label">Î™©Ìëú ÏõîÍ∏â</div>
                                    <div class="conversion-value" id="target-monthly">‚Ç©0</div>
                                    <div class="conversion-delta" id="target-monthly-delta">+0%</div>
                                </div>
                                <div class="conversion-card current">
                                    <div class="conversion-label">ÌòÑÏû¨ Ïó∞Î¥â</div>
                                    <div class="conversion-value current" id="current-yearly">‚Ç©0</div>
                                    <div class="conversion-delta" id="current-yearly-delta">ÏòàÏÉÅ ÏàòÏûÖ</div>
                                </div>
                                <div class="conversion-card target">
                                    <div class="conversion-label">Î™©Ìëú Ïó∞Î¥â</div>
                                    <div class="conversion-value" id="target-yearly">‚Ç©0</div>
                                    <div class="conversion-delta" id="target-yearly-delta">+0%</div>
                                </div>
                            </div>
                            <div class="daily-focus-card">
                                <div class="daily-focus-title">ÌïòÎ£® Î™©Ìëú ÏßëÏ§ë ÏãúÍ∞Ñ</div>
                                <div class="daily-focus-time" id="daily-focus-time">0Î∂Ñ</div>
                                <div class="daily-focus-subtitle">Î™©Ìëú Îã¨ÏÑ±ÏùÑ ÏúÑÌïú ÏµúÏÜå ÏãúÍ∞Ñ (ÏßëÏ§ëÌö®Ïú® 70%)</div>
                            </div>
                        </div>
                        
                        <button class="gold-button" id="start-journey">Ï≤úÏñµ Ïó¨Ï†ï ÏãúÏûëÌïòÍ∏∞</button>
                        
                        <!-- Ï≤´ Î™©Ìëú ÏÑ§Ï†ïÏö© CTA -->
                        <div class="motivation-banner" style="display: block; margin-top: 20px;">
                            <div class="banner-title">üöÄ Î™©Ìëú Îã¨ÏÑ± ÌõÑ Îçî ÌÅ∞ ÏÑ±Í≥µÏùÑ ÏõêÌïúÎã§Î©¥?</div>
                            <div class="banner-subtitle">Ïù¥ÎØ∏ 1,148ÎßåÏõê Ï∂îÍ∞Ä Îß§Ï∂úÏùÑ Îã¨ÏÑ±Ìïú<br>Í≤ÄÏ¶ùÎêú ÏàòÏùµÌôî ÎÖ∏ÌïòÏö∞Î•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî</div>
                            <a href="https://class.subad.kr?utm_source=billionaire_timer&course=1148man&placement=goal_setup" target="_blank" class="banner-cta">
                                üí∞ ÏàòÏùµÌôî ÎπÑÎ≤ï ÌôïÏù∏ÌïòÍ∏∞
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Î™©Ìëú ÌëúÏãú ÌôîÎ©¥ -->
                <div class="goal-display hidden" id="goal-display">
                    <div class="goal-header">
                        <h2>ÎÇòÏùò Î™©Ìëú</h2>
                        <div class="goal-actions">
                            <button class="edit-btn" id="show-report">
                                <span class="icon icon-report"></span>
                                Î≥¥Í≥†ÏÑú
                            </button>
                            <button class="edit-btn" id="edit-goals">
                                <span class="icon icon-edit"></span>
                                ÏàòÏ†ï
                            </button>
                            <button class="reset-btn" id="reset-goals">
                                <span class="icon icon-cancel"></span>
                                Ï¥àÍ∏∞Ìôî
                            </button>
                        </div>
                    </div>
                    
                    <div class="goal-grid">
                        <div class="goal-item">
                            <div class="goal-label">ÌòÑÏû¨ ÏãúÍ∏â</div>
                            <div class="goal-value" id="current-rate-display">‚Ç©0</div>
                            <div class="goal-amount" id="current-monthly-goal">Ïõî ‚Ç©0</div>
                        </div>
                        <div class="goal-item">
                            <div class="goal-label">Î™©Ìëú ÏãúÍ∏â</div>
                            <div class="goal-value" id="target-rate-display">‚Ç©0</div>
                            <div class="goal-amount" id="target-monthly-goal">Ïõî ‚Ç©0</div>
                        </div>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-circle">
                            <svg viewBox="0 0 140 140">
                                <defs>
                                    <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#d4af37"/>
                                        <stop offset="50%" style="stop-color:#b8860b"/>
                                        <stop offset="100%" style="stop-color:#daa520"/>
                                    </linearGradient>
                                </defs>
                                <circle class="bg-circle" cx="70" cy="70" r="60"/>
                                <circle class="progress-circle-fill" cx="70" cy="70" r="60" id="progress-circle"/>
                            </svg>
                            <div class="progress-text" id="progress-percentage">0%</div>
                        </div>
                        <p style="color: #666666; font-size: 14px; font-weight: 600;">Î™©Ìëú Îã¨ÏÑ±Î•†</p>
                    </div>
                    
                    <!-- Ïã¨ÌîåÌïú ÏÑ±Í≥º ÌÜµÍ≥Ñ -->
                    <div class="profit-loss-stats">
                        <div class="stats-grid">
                            <div class="stat-item profit">
                                <div class="stat-label">ÏÑ±Í≥µ ÏàòÏùµ</div>
                                <div class="stat-value profit-color" id="total-profit">‚Ç©0</div>
                            </div>
                            <div class="stat-item loss">
                                <div class="stat-label">Ïã§Ìå® ÏÜêÌï¥</div>
                                <div class="stat-value loss-color" id="total-loss">‚Ç©0</div>
                            </div>
                        </div>
                        
                        <!-- Ïã¨Ìîå Îã¨ÏÑ± ÌòÑÌô© -->
                        <div class="simple-achievements">
                            <div class="achievement-item">
                                <span class="achievement-icon">üî•</span>
                                <span class="achievement-text">Ïó∞ÏÜç <strong id="current-streak">0</strong>Ïùº Îã¨ÏÑ±</span>
                            </div>
                            <div class="achievement-item">
                                <span class="achievement-icon">üìÖ</span>
                                <span class="achievement-text">Ïù¥Î≤à Ï£º <strong id="week-tasks">0</strong>Í∞ú ÏôÑÎ£å</span>
                            </div>
                            <div class="achievement-item">
                                <span class="achievement-icon">üèÜ</span>
                                <span class="achievement-text">Ï¥ù <strong id="total-completed">0</strong>Í∞ú Îã¨ÏÑ±</span>
                            </div>
                        </div>
                        
                        <!-- Ïò§ÎäòÏùò ÎèôÍ∏∞Î∂ÄÏó¨ -->
                        <div class="daily-motivation" id="daily-motivation">
                            <div class="motivation-text">üí™ Ïò§ÎäòÎèÑ Î™©ÌëúÎ•º Ìñ•Ìï¥ Ìïú Í±∏Ïùå!</div>
                        </div>
                        
                        <!-- Ïò§ÎäòÏùò ÎØ∏ÏÖò -->
                        <div class="daily-mission" id="daily-mission">
                            <div class="mission-header">
                                <span class="mission-icon">üéØ</span>
                                <span class="mission-title">Ïò§ÎäòÏùò ÎØ∏ÏÖò</span>
                            </div>
                            <div class="mission-content" id="mission-content">
                                Ï≤´ Î≤àÏß∏ ÏûëÏóÖÏùÑ 30Î∂Ñ Ïù¥ÎÇ¥Ïóê ÏôÑÎ£åÌïòÍ∏∞
                            </div>
                        </div>
                        
                        <!-- Í∞ÑÎã®Ìïú Í≥µÏú† Î≤ÑÌäº -->
                        <button class="share-btn" id="share-progress" onclick="shareProgress()">
                            üì§ ÏÑ±Í≥º Í≥µÏú†ÌïòÍ∏∞
                        </button>
                    </div>
                    
                    <!-- ÏÑ±Ïû• ÎèôÍ∏∞ Î∞∞ÎÑà -->
                    <div class="motivation-banner" id="goal-motivation-banner">
                        <div class="banner-title">üöÄ Ï∂îÍ∞Ä Îß§Ï∂ú 1,148ÎßåÏõê Îã¨ÏÑ± ÎπÑÎ≤ï</div>
                        <div class="banner-subtitle">Ï≤úÏñµÎ∂ÄÏûêÎì§Ïùò Ïã§Ï†ú ÏÑ±Ïû• Ï†ÑÎûµÍ≥º<br>Í≤ÄÏ¶ùÎêú ÏàòÏùµÌôî ÎÖ∏ÌïòÏö∞Î•º Î∞∞ÏõåÎ≥¥ÏÑ∏Ïöî</div>
                        <a href="https://class.subad.kr?utm_source=billionaire_timer&course=1148man" target="_blank" class="banner-cta">
                            ÏàòÏùµÌôî Í∞ïÏùò Î≥¥Í∏∞
                        </a>
                    </div>
                </div>
            </div>

            <!-- Ìï† Ïùº ÌÉ≠ -->
            <div class="tab-content" id="todos-tab">
                <div class="section-header">
                    <h2>Ï≤úÏñµ Ìï† Ïùº</h2>
                    <button class="add-btn" id="add-todo">
                        <span class="icon icon-plus"></span>
                    </button>
                </div>
                
                <div class="input-form" id="todo-form">
                    <div class="input-group">
                        <label>Ìï† Ïùº</label>
                        <input type="text" id="todo-title" placeholder="Ìï† ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                    </div>
                    <div class="input-group">
                        <label>Í∞ÄÏπò Í∏àÏï°(ÏÑ†ÌÉù)</label>
                        <div class="currency-symbol">
                            <input type="number" id="todo-value" placeholder="ÏßÅÏ†ë Í∏àÏï° ÏûÖÎ†•, ÎØ∏ÏûÖÎ†• Ïãú ÏãúÍ∏â Í≥ÑÏÇ∞" min="0">
                        </div>
                    </div>
                    <div class="time-selector">
                        <div class="time-display" id="todo-time-display">30Î∂Ñ</div>
                        <div class="time-chips">
                            <div class="option-btn" data-time="15">15Î∂Ñ</div>
                            <div class="option-btn selected" data-time="30">30Î∂Ñ</div>
                            <div class="option-btn" data-time="45">45Î∂Ñ</div>
                            <div class="option-btn" data-time="60">60Î∂Ñ</div>
                        </div>
                        <div class="time-slider-container">
                            <input type="range" class="time-slider" id="todo-time-slider" min="5" max="60" step="5" value="30">
                        </div>
                        <div class="money-preview" id="todo-money-preview">ÏòàÏÉÅ ÏàòÏùµ ‚Ç©0 / ÏòàÏÉÅ ÏÜêÏã§ ‚Ç©0</div>
                    </div>
                    <div class="repeat-selector">
                        <div class="option-btn selected" data-repeat="once">ÌïúÎ≤àÎßå</div>
                        <div class="option-btn" data-repeat="daily">Îß§Ïùº Î∞òÎ≥µ</div>
                    </div>
                    <div class="input-group" style="margin-top:10px;">
                        <label style="display:flex; align-items:center; gap:8px; justify-content:center;">
                            <input type="checkbox" id="todo-quick-complete" style="width:18px; height:18px;"> Ï≤¥ÌÅ¨Î°ú ÏôÑÎ£å ÌóàÏö©
                        </label>
                    </div>
                    <div class="btn-group">
                        <button class="btn primary" id="save-todo">
                            <span class="icon icon-save"></span>
                            Ï†ÄÏû•
                        </button>
                        <button class="btn secondary" id="cancel-todo">
                            <span class="icon icon-cancel"></span>
                            Ï∑®ÏÜå
                        </button>
                    </div>
                </div>
                
                <div class="item-list" id="todo-list">
                    <!-- Ìï† Ïùº Î™©Î°ù -->
                </div>
            </div>

            <!-- ÌÉÄÏù¥Î®∏ ÌÉ≠ -->
            <div class="tab-content" id="timer-tab">
                <div class="timer-container">
                    <!-- Î™®Î∞îÏùº ÏµúÏ†ÅÌôîÎêú ÏÉÅÎã® Ï†ïÎ≥¥ ÏòÅÏó≠ -->
                    <div class="timer-info-cards">
                        <div class="info-card earning-card">
                            <div class="card-icon">üí∞</div>
                            <div class="card-content">
                                <div class="card-label">Î≤åÏñ¥Îì§Ïù¥Îäî Ï§ë</div>
                                <div class="card-amount pulse" id="mobile-earning">‚Ç©0</div>
                            </div>
                        </div>
                        <div class="info-card loss-card" id="mobile-loss-card" style="display: none;">
                            <div class="card-icon">‚ö†Ô∏è</div>
                            <div class="card-content">
                                <div class="card-label">ÏßëÏ§ë ÏïàÌïòÎ©¥</div>
                                <div class="card-amount" id="mobile-loss">‚Ç©0 ÏÜêÌï¥</div>
                            </div>
                        </div>
                    </div>

                    <div class="timer-circle">
                        <svg viewBox="0 0 300 300">
                            <defs>
                                <linearGradient id="timerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#d4af37"/>
                                    <stop offset="50%" style="stop-color:#b8860b"/>
                                    <stop offset="100%" style="stop-color:#daa520"/>
                                </linearGradient>
                            </defs>
                            <circle class="timer-bg" cx="150" cy="150" r="135"/>
                            <circle class="timer-progress" cx="150" cy="150" r="135" id="timer-progress"/>
                        </svg>
                        <div class="timer-display">
                            <div class="timer-time" id="timer-time">00:00</div>
                            <div class="timer-task-name" id="timer-task">ÏûëÏóÖÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</div>
                        </div>
                    </div>
                    
                    <div class="timer-controls">
                        <button class="timer-btn play-pause" id="play-pause-btn">
                            <span class="icon icon-play"></span>
                        </button>
                        <button class="timer-btn complete" id="complete-btn">
                            <span class="icon icon-complete"></span>
                        </button>
                        <button class="timer-btn give-up" id="give-up-btn">
                            <span class="icon icon-give-up"></span>
                        </button>
                    </div>
                    
                    <!-- Í∏∞Ï°¥ money-displayÎäî Îç∞Ïä§ÌÅ¨ÌÜ±Ïö©ÏúºÎ°ú Ïú†ÏßÄ -->
                    <div class="money-display desktop-only">
                        <div class="money-earning">
                            <div class="money-amount pulse" id="money-amount">‚Ç©0</div>
                            <div class="money-status" id="money-status">ÎåÄÍ∏∞ Ï§ë</div>
                        </div>
                        <div class="money-loss" id="money-loss" style="display: none;">
                            <div class="loss-label">ÏßëÏ§ëÌïòÏßÄ ÏïäÏúºÎ©¥</div>
                            <div class="loss-amount" id="loss-amount">‚Ç©0 ÏÜêÌï¥</div>
                        </div>
                    </div>
                    
                    <!-- Ïù¥Ïùµ/ÏÜêÌï¥ Î°úÏßÅ ÏÑ§Î™Ö -->
                    <div class="logic-explanation">
                        <div class="logic-title">Ïù¥Ïùµ/ÏÜêÌï¥ Í≥ÑÏÇ∞ Î°úÏßÅ</div>
                        <div class="logic-content">
                            <strong>Ïù¥Ïùµ:</strong> ÌòÑÏû¨ ÏãúÍ∏â √ó ÏûëÏóÖ ÏãúÍ∞Ñ<br>
                            <strong>ÏÜêÌï¥:</strong> Î™©Ìëú ÏãúÍ∏â √ó ÏûëÏóÖ ÏãúÍ∞Ñ<br>
                            <strong>ÏôÑÎ£å:</strong> ÏàòÏùµ Í∏∞Î°ù + ÏÑ±Í≥µÏùº Ï¶ùÍ∞Ä<br>
                            <strong>Ìè¨Í∏∞:</strong> ÏÜêÌï¥ Í∏∞Î°ù + Ïã§Ìå®Ïùº Ï¶ùÍ∞Ä
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÏïÑÏù¥ÎîîÏñ¥ ÌÉ≠ -->
            <div class="tab-content" id="ideas-tab">
                <div class="section-header">
                    <h2>Ï≤úÏñµ ÏïÑÏù¥ÎîîÏñ¥</h2>
                    <button class="add-btn" id="add-idea">
                        <span class="icon icon-plus"></span>
                    </button>
                </div>
                
                <div class="input-form" id="idea-form">
                    <div class="input-group">
                        <label>ÏïÑÏù¥ÎîîÏñ¥ Ï†úÎ™©</label>
                        <input type="text" id="idea-title" placeholder="ÏïÑÏù¥ÎîîÏñ¥ Ï†úÎ™©">
                    </div>
                    <div class="input-group">
                        <label>ÏïÑÏù¥ÎîîÏñ¥ ÎÇ¥Ïö©</label>
                        <textarea id="idea-content" placeholder="ÏïÑÏù¥ÎîîÏñ¥Î•º ÏûêÏÑ∏Ìûà Ï†ÅÏñ¥Î≥¥ÏÑ∏Ïöî..."></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="btn primary" id="save-idea">
                            <span class="icon icon-save"></span>
                            Ï†ÄÏû•
                        </button>
                        <button class="btn secondary" id="cancel-idea">
                            <span class="icon icon-cancel"></span>
                            Ï∑®ÏÜå
                        </button>
                    </div>
                </div>
                
                <!-- ÏïÑÏù¥ÎîîÏñ¥ ‚Üí Ìï†Ïùº Î≥ÄÌôò Ìèº -->
                <div class="input-form" id="convert-form">
                    <div class="input-group">
                        <label>Ìï† Ïùº Ï†úÎ™©</label>
                        <input type="text" id="convert-title" placeholder="Ìï† Ïùº Ï†úÎ™©">
                    </div>
                    <div class="input-group">
                        <label>Í∞ÄÏπò Í∏àÏï°(ÏÑ†ÌÉù)</label>
                        <div class="currency-symbol">
                            <input type="number" id="convert-value" placeholder="ÏßÅÏ†ë Í∏àÏï° ÏûÖÎ†•, ÎØ∏ÏûÖÎ†• Ïãú ÏãúÍ∏â Í≥ÑÏÇ∞" min="0">
                        </div>
                    </div>
                    <div class="time-selector">
                        <div class="time-display" id="convert-time-display">30Î∂Ñ</div>
                        <div class="time-chips">
                            <div class="option-btn" data-time="15">15Î∂Ñ</div>
                            <div class="option-btn selected" data-time="30">30Î∂Ñ</div>
                            <div class="option-btn" data-time="45">45Î∂Ñ</div>
                            <div class="option-btn" data-time="60">60Î∂Ñ</div>
                        </div>
                        <div class="time-slider-container">
                            <input type="range" class="time-slider" id="convert-time-slider" min="5" max="60" step="5" value="30">
                        </div>
                        <div class="money-preview" id="convert-money-preview">ÏòàÏÉÅ ÏàòÏùµ ‚Ç©0 / ÏòàÏÉÅ ÏÜêÏã§ ‚Ç©0</div>
                    </div>
                    <div class="repeat-selector">
                        <div class="option-btn selected" data-repeat="once">ÌïúÎ≤àÎßå</div>
                        <div class="option-btn" data-repeat="daily">Îß§Ïùº Î∞òÎ≥µ</div>
                    </div>
                    <div class="input-group" style="margin-top:10px;">
                        <label style="display:flex; align-items:center; gap:8px; justify-content:center;">
                            <input type="checkbox" id="convert-quick-complete" style="width:18px; height:18px;"> Ï≤¥ÌÅ¨Î°ú ÏôÑÎ£å ÌóàÏö©
                        </label>
                    </div>
                    <div class="btn-group">
                        <button class="btn primary" id="confirm-convert">
                            <span class="icon icon-convert"></span>
                            Ìï†ÏùºÎ°ú Î≥ÄÌôò
                        </button>
                        <button class="btn secondary" id="cancel-convert">
                            <span class="icon icon-cancel"></span>
                            Ï∑®ÏÜå
                        </button>
                    </div>
                </div>
                
                <div class="item-list" id="ideas-list">
                    <!-- ÏïÑÏù¥ÎîîÏñ¥ Î™©Î°ù -->
                </div>
            </div>
        </div>

        <!-- ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
        <div class="bottom-nav">
            <div class="nav-item active" data-tab="goals-tab">
                <span class="nav-icon icon icon-target"></span>
                <span class="nav-label">Î™©Ìëú</span>
            </div>
            <div class="nav-item" data-tab="todos-tab">
                <span class="nav-icon icon icon-list"></span>
                <span class="nav-label">Ìï†Ïùº</span>
            </div>
            <div class="nav-item" data-tab="timer-tab">
                <span class="nav-icon icon icon-timer"></span>
                <span class="nav-label">ÌÉÄÏù¥Î®∏</span>
            </div>
            <div class="nav-item" data-tab="ideas-tab">
                <span class="nav-icon icon icon-bulb"></span>
                <span class="nav-label">ÏïÑÏù¥ÎîîÏñ¥</span>
            </div>
        </div>

        <!-- ÏÑ§Ï†ï Î©îÎâ¥ Ïò§Î≤ÑÎ†àÏù¥ -->
        <div class="settings-overlay" id="settings-overlay">
            <div class="settings-panel">
                <div class="settings-header">
                    <h2 class="settings-title">ÏÑ§Ï†ï</h2>
                    <button class="close-btn" id="close-settings">
                        <span class="icon icon-close"></span>
                    </button>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-label">ÏÜêÏã§ ÌëúÏãú</div>
                        <div class="setting-desc">ÏßëÏ§ëÌïòÏßÄ ÏïäÏùÑ Îïå Í∏∞ÌöåÎπÑÏö© ÌëúÏãú</div>
                    </div>
                    <div class="toggle-switch active" data-setting="showLoss"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-label">Î∞©Ìï¥ÏÇ¨Ïù¥Ìä∏ Í≤ΩÍ≥†</div>
                        <div class="setting-desc">Îã§Î•∏ ÏõπÏÇ¨Ïù¥Ìä∏ Ï†ëÏÜç Ïãú Í≤ΩÍ≥†</div>
                    </div>
                    <div class="toggle-switch active" data-setting="siteWarning"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-label">ÏïåÎ¶º</div>
                        <div class="setting-desc">30Î∂Ñ Í≤ΩÍ≥º Î∞è ÏãúÍ∞Ñ Ï¥àÍ≥º ÏïåÎ¶º</div>
                    </div>
                    <div class="toggle-switch active" data-setting="notifications"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-label">ÏÇ¨Ïö¥Îìú/ÏßÑÎèô</div>
                        <div class="setting-desc">ÏôÑÎ£å/Ïã§Ìå® Ïãú ÏÜåÎ¶¨ Î∞è ÏßÑÎèô</div>
                    </div>
                    <div class="toggle-switch active" data-setting="sound"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-label">ÏÑ±Ïû• ÎèôÍ∏∞ Î∞∞ÎÑà</div>
                        <div class="setting-desc">Ï∂îÍ∞Ä Îß§Ï∂ú Í∞ïÏùò Î∞è ÏÑ±Ïû• ÏΩòÌÖêÏ∏†</div>
                    </div>
                    <div class="toggle-switch active" data-setting="motivationBanner"></div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-label">ÏûêÎèô Ïû¨Î∞∞Ïπò</div>
                        <div class="setting-desc">ÎØ∏ÏôÑÎ£å ÏûëÏóÖ ÎÇ¥Ïùº Ïò§Ï†Ñ 10Ïãú Ïù¥Îèô</div>
                    </div>
                    <div class="toggle-switch" data-setting="autoReschedule"></div>
                </div>
                
                <!-- ÏÑ§Ï†ï Î©îÎâ¥ ÎßàÏßÄÎßâ CTA -->
                <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e9ecef;">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <h3 style="font-size: 16px; font-weight: 700; color: #000; margin-bottom: 8px;">üí° Îçî ÌÅ∞ ÏÑ±Í≥µÏùÑ ÏõêÌïòÏãúÎÇòÏöî?</h3>
                        <p style="font-size: 13px; color: #666; line-height: 1.4;">Ïã§Ï†ú 1,148ÎßåÏõê Ï∂îÍ∞Ä Îß§Ï∂úÏùÑ Îã¨ÏÑ±Ìïú<br>Í≤ÄÏ¶ùÎêú ÎπÑÏ¶àÎãàÏä§ Ï†ÑÎûµÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî</p>
                    </div>
                    <a href="https://class.subad.kr?utm_source=billionaire_timer&course=1148man&placement=settings" target="_blank" 
                       style="display: block; background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%); color: white; text-decoration: none; padding: 12px 20px; border-radius: 12px; font-size: 14px; font-weight: 700; text-align: center;">
                        üöÄ ÏàòÏùµÌôî Í∞ïÏùò Î≥¥Îü¨Í∞ÄÍ∏∞
                    </a>
                </div>
            </div>
        </div>

        <!-- Î≥¥Í≥†ÏÑú Î™®Îã¨ -->
        <div class="report-overlay" id="report-overlay">
            <div class="report-modal">
                <div class="report-header">
                    <div class="report-title">üìä ÏÑ±Í≥º Î≥¥Í≥†ÏÑú</div>
                    <button class="close-btn" id="close-report"><span class="icon icon-close"></span></button>
                </div>

                <div class="report-stats">
                    <div class="report-item gold">
                        <div class="label">Ï¥ù ÏàòÏùµ</div>
                        <div class="value" id="report-total-profit">‚Ç©0</div>
                    </div>
                    <div class="report-item black">
                        <div class="label">Ï¥ù ÏÜêÏã§</div>
                        <div class="value" id="report-total-loss">‚Ç©0</div>
                    </div>
                    <div class="report-item">
                        <div class="label">ÏàúÏàòÏùµ</div>
                        <div class="value" id="report-net-profit">‚Ç©0</div>
                    </div>
                </div>

                <div class="report-message" id="report-message-text">Ïò§ÎäòÎèÑ Íæ∏Ï§ÄÌûà Í∞ÄÎ¥ÖÏãúÎã§! üî•</div>

                <div class="report-chart">
                    <div class="chart-row">
                        <div class="chart-label">ÏàòÏùµ</div>
                        <div class="chart-track"><div class="chart-fill gold" id="chart-profit-fill" style="width:0%"></div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">ÏÜêÏã§</div>
                        <div class="chart-track"><div class="chart-fill black" id="chart-loss-fill" style="width:0%"></div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">ÏàúÏùµ</div>
                        <div class="chart-track"><div class="chart-fill gold" id="chart-net-fill" style="width:0%"></div></div>
                    </div>
                </div>

                <div class="report-actions">
                    <button class="btn secondary" id="motivate-more">ÎèôÍ∏∞Î∂ÄÏó¨</button>
                    <button class="btn primary" id="share-report">ÏÑ±Í≥º Í≥µÏú†</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Ï†ÑÏó≠ Î≥ÄÏàò
        let appData = {
            goals: { currentRate: 0, targetRate: 0 },
            todos: [],
            ideas: [],
            stats: { 
                totalProfit: 0, 
                totalLoss: 0, 
                successDays: 0, 
                failDays: 0,
                currentStreak: 0,
                longestStreak: 0,
                thisWeekTasks: 0,
                totalTasks: 0,
                lastActiveDate: null
            },
            timer: {
                isRunning: false,
                isPaused: false,
                timeLeft: 0,
                totalTime: 0,
                currentTask: null,
                interval: null
            },
            settings: {
                showLoss: true,
                siteWarning: true,
                notifications: true,
                sound: true,
                motivationBanner: true,
                autoReschedule: false,
                focusEfficiency: 0.7
            }
        };

        let editingTodoId = null;
        let convertingIdeaId = null;

        // Ïï± Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            loadAppData();
            setupEventListeners();
            initializeApp();
        });

        // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        function loadAppData() {
            const savedData = localStorage.getItem('final_billionaire_app');
            if (savedData) {
                appData = { ...appData, ...JSON.parse(savedData) };
            }
        }

        // Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
        function saveAppData() {
            localStorage.setItem('final_billionaire_app', JSON.stringify(appData));
        }

        // Ïï± Ï¥àÍ∏∞Ìôî
        function initializeApp() {
            if (appData.goals.currentRate > 0 && appData.goals.targetRate > 0) {
                showGoalDisplay();
            } else {
                showGoalSetup();
            }
            updateAllDisplays();
        }

        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï
        function setupEventListeners() {
            // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    switchTab(this.dataset.tab);
                });
            });

            // Î™©Ìëú ÏÑ§Ï†ï
            document.getElementById('current-hourly-input').addEventListener('input', updateConversions);
            document.getElementById('target-hourly-input').addEventListener('input', updateConversions);
            document.getElementById('start-journey').addEventListener('click', saveGoalsAndStart);
            document.getElementById('edit-goals').addEventListener('click', showGoalSetup);
            document.getElementById('reset-goals').addEventListener('click', resetGoals);
            document.getElementById('show-report').addEventListener('click', showReport);

            // Ìï† Ïùº Í¥ÄÎ¶¨
            document.getElementById('add-todo').addEventListener('click', showTodoForm);
            document.getElementById('save-todo').addEventListener('click', saveTodo);
            document.getElementById('cancel-todo').addEventListener('click', hideTodoForm);

            // ÏïÑÏù¥ÎîîÏñ¥ Í¥ÄÎ¶¨
            document.getElementById('add-idea').addEventListener('click', showIdeaForm);
            document.getElementById('save-idea').addEventListener('click', saveIdea);
            document.getElementById('cancel-idea').addEventListener('click', hideIdeaForm);

            // ÏïÑÏù¥ÎîîÏñ¥ ‚Üí Ìï†Ïùº Î≥ÄÌôò
            document.getElementById('confirm-convert').addEventListener('click', confirmConvert);
            document.getElementById('cancel-convert').addEventListener('click', cancelConvert);

            // ÏÑ§Ï†ï Î©îÎâ¥
            document.getElementById('menu-btn').addEventListener('click', showSettings);
            document.getElementById('close-settings').addEventListener('click', hideSettings);
            document.getElementById('settings-overlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideSettings();
                }
            });
            document.getElementById('close-report').addEventListener('click', hideReport);
            document.getElementById('report-overlay').addEventListener('click', function(e){
                if (e.target === this) hideReport();
            });
            document.getElementById('share-report').addEventListener('click', shareReport);
            document.getElementById('motivate-more').addEventListener('click', function(){
                alert('ÎãπÏã†Ïùò ÌéòÏù¥Ïä§Í∞Ä Í≥ß ÏÑ±Í≥ºÏûÖÎãàÎã§. Ïò§Îäò 1Í∞ú Îçî ÏôÑÎ£åÌï¥Î≥ºÍπåÏöî? üí™');
            });
            
            // ÏÑ§Ï†ï ÌÜ†Í∏Ä
            document.querySelectorAll('.toggle-switch').forEach(toggle => {
                toggle.addEventListener('click', function() {
                    const setting = this.dataset.setting;
                    appData.settings[setting] = !appData.settings[setting];
                    this.classList.toggle('active', appData.settings[setting]);
                    saveAppData();
                    updateBannerVisibility();
                });
            });

            // ÏãúÍ∞Ñ Ïä¨ÎùºÏù¥Îçî Ïù¥Î≤§Ìä∏
            document.getElementById('todo-time-slider').addEventListener('input', function() {
                updateTimeDisplay('todo', this.value);
            });
            
            document.getElementById('convert-time-slider').addEventListener('input', function() {
                updateTimeDisplay('convert', this.value);
            });

            // ÏòµÏÖò ÏÑ†ÌÉù
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('option-btn')) {
                    const parent = e.target.parentElement;
                    parent.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    
                    // Ïä¨ÎùºÏù¥Îçî Í∞íÎèÑ ÏóÖÎç∞Ïù¥Ìä∏
                    const timeValue = e.target.dataset.time;
                    const form = parent.closest('.input-form');
                    if (timeValue && form) {
                        const slider = form.querySelector('.time-slider');
                        const display = form.querySelector('.time-display');
                        if (slider) slider.value = timeValue;
                        if (display) display.textContent = timeValue + 'Î∂Ñ';
                        updateMoneyPreview(form);
                    }
                }
            });

            // ÌÉÄÏù¥Î®∏ Ïª®Ìä∏Î°§
            document.getElementById('play-pause-btn').addEventListener('click', toggleTimer);
            document.getElementById('complete-btn').addEventListener('click', completeTimer);
            document.getElementById('give-up-btn').addEventListener('click', giveUpTimer);
        }

        // ÏõîÍ∏â/Ïó∞Î¥â ÏûêÎèô ÌôòÏÇ∞
        function updateConversions() {
            const currentRate = parseInt(document.getElementById('current-hourly-input').value) || 0;
            const targetRate = parseInt(document.getElementById('target-hourly-input').value) || 0;

            if (currentRate > 0 || targetRate > 0) {
                document.getElementById('conversion-display').style.display = 'block';
                
                const currentMonthly = currentRate * 8 * 22;
                const targetMonthly = targetRate * 8 * 22;
                const currentYearly = currentMonthly * 12;
                const targetYearly = targetMonthly * 12;

                document.getElementById('current-monthly').textContent = `‚Ç©${currentMonthly.toLocaleString()}`;
                document.getElementById('target-monthly').textContent = `‚Ç©${targetMonthly.toLocaleString()}`;
                document.getElementById('current-yearly').textContent = `‚Ç©${currentYearly.toLocaleString()}`;
                document.getElementById('target-yearly').textContent = `‚Ç©${targetYearly.toLocaleString()}`;
                
                // ÌçºÏÑºÌä∏ Ï∞®Ïù¥ Í≥ÑÏÇ∞
                if (currentMonthly > 0) {
                    const monthlyDelta = ((targetMonthly - currentMonthly) / currentMonthly * 100).toFixed(1);
                    const yearlyDelta = ((targetYearly - currentYearly) / currentYearly * 100).toFixed(1);
                    
                    document.getElementById('target-monthly-delta').textContent = `+${monthlyDelta}%`;
                    document.getElementById('target-yearly-delta').textContent = `+${yearlyDelta}%`;
                }
                
                // ÌïòÎ£® Î™©Ìëú ÏßëÏ§ë ÏãúÍ∞Ñ Í≥ÑÏÇ∞
                if (currentRate > 0 && targetRate > currentRate) {
                    const dailyGap = (targetMonthly - currentMonthly) / 22; // ÌïòÎ£® Í≤©Ï∞®
                    const focusMinutes = Math.ceil((dailyGap / currentRate) * 60 / appData.settings.focusEfficiency);
                    document.getElementById('daily-focus-time').textContent = `${focusMinutes}Î∂Ñ`;
                } else {
                    document.getElementById('daily-focus-time').textContent = '0Î∂Ñ';
                }
            } else {
                document.getElementById('conversion-display').style.display = 'none';
            }
        }

        // Î™©Ìëú Ï†ÄÏû• Î∞è ÏãúÏûë
        function saveGoalsAndStart() {
            const currentRate = parseInt(document.getElementById('current-hourly-input').value) || 0;
            const targetRate = parseInt(document.getElementById('target-hourly-input').value) || 0;

            if (currentRate <= 0 || targetRate <= 0) {
                alert('Ïò¨Î∞îÎ•∏ ÏãúÍ∏âÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            if (targetRate <= currentRate) {
                alert('Î™©Ìëú ÏãúÍ∏âÏù¥ ÌòÑÏû¨ ÏãúÍ∏âÎ≥¥Îã§ ÎÜíÏïÑÏïº Ìï©ÎãàÎã§!');
                return;
            }

            appData.goals.currentRate = currentRate;
            appData.goals.targetRate = targetRate;
            saveAppData();
            
            showGoalDisplay();
            updateAllDisplays();
        }

        // Î™©Ìëú ÏÑ§Ï†ï/ÌëúÏãú ÌôîÎ©¥ Ï†ÑÌôò
        function showGoalSetup() {
            document.getElementById('goal-setup').classList.remove('hidden');
            document.getElementById('goal-display').classList.add('hidden');
            
            // Í∏∞Ï°¥ Î™©ÌëúÍ∞Ä ÏûàÏúºÎ©¥ Îí§Î°úÍ∞ÄÍ∏∞ Î≤ÑÌäº ÌëúÏãú
            if (appData.goals.currentRate > 0 && appData.goals.targetRate > 0) {
                document.getElementById('back-to-goal').classList.remove('hidden');
            }
            
            if (appData.goals.currentRate > 0) {
                document.getElementById('current-hourly-input').value = appData.goals.currentRate;
            }
            if (appData.goals.targetRate > 0) {
                document.getElementById('target-hourly-input').value = appData.goals.targetRate;
            }
            updateConversions();
        }

        function showGoalDisplay() {
            document.getElementById('goal-setup').classList.add('hidden');
            document.getElementById('goal-display').classList.remove('hidden');
            document.getElementById('back-to-goal').classList.add('hidden');
        }

        // Î™©Ìëú Ï¥àÍ∏∞Ìôî
        function resetGoals() {
            if (confirm('üö® Ï†ïÎßê Î™©ÌëúÎ•º Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\nÎ™®Îì† ÌÜµÍ≥ÑÏôÄ Í∏∞Î°ùÏù¥ ÏÇ≠Ï†úÎê©ÎãàÎã§.\nÏù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.')) {
                // Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî
                appData.goals = { currentRate: 0, targetRate: 0 };
                appData.stats = { 
                    totalProfit: 0, 
                    totalLoss: 0, 
                    successDays: 0, 
                    failDays: 0,
                    currentStreak: 0,
                    longestStreak: 0,
                    thisWeekTasks: 0,
                    totalTasks: 0,
                    lastActiveDate: null
                };
                appData.todos = [];
                appData.ideas = [];
                
                // Î∞∞ÏßÄ Í∏∞Î°ùÎèÑ Ï¥àÍ∏∞Ìôî
                Object.keys(localStorage).forEach(key => {
                    if (key.startsWith('badge_')) {
                        localStorage.removeItem(key);
                    }
                });
                
                saveAppData();
                showGoalSetup();
                updateAllDisplays();
                
                alert('‚úÖ Î™©ÌëúÍ∞Ä Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§!\nÏÉàÎ°úÏö¥ ÎèÑÏ†ÑÏùÑ ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî! üí™');
            }
        }

        // Î™®Îì† ÎîîÏä§ÌîåÎ†àÏù¥ ÏóÖÎç∞Ïù¥Ìä∏
        function updateAllDisplays() {
            updateGoalDisplay();
            updateStatsDisplay();
            renderTodos();
            renderIdeas();
            updateTimerDisplay();
            updateMoneyDisplay();
            updateBannerVisibility();
            updateSettingsUI();
            updateReportDisplay();
            updateHeaderStatus();
        }

        function updateHeaderStatus() {
            const net = (appData.stats.totalProfit || 0) - (appData.stats.totalLoss || 0);
            const streak = appData.stats.currentStreak || 0;
            const netEl = document.getElementById('header-net');
            const streakEl = document.getElementById('header-streak');
            if (netEl) netEl.textContent = `ÏàúÏùµ ‚Ç©${net.toLocaleString()}`;
            if (streakEl) streakEl.textContent = `Ïó∞ÏÜç ${streak}Ïùº`;
        }

        // Î™©Ìëú ÎîîÏä§ÌîåÎ†àÏù¥ ÏóÖÎç∞Ïù¥Ìä∏
        function updateGoalDisplay() {
            document.getElementById('current-rate-display').textContent = `‚Ç©${appData.goals.currentRate.toLocaleString()}`;
            document.getElementById('target-rate-display').textContent = `‚Ç©${appData.goals.targetRate.toLocaleString()}`;

            // ÏõîÍ∏â Ï†ïÎ≥¥ Ï∂îÍ∞Ä
            const currentMonthly = appData.goals.currentRate * 8 * 22;
            const targetMonthly = appData.goals.targetRate * 8 * 22;
            
            document.getElementById('current-monthly-goal').textContent = `Ïõî ‚Ç©${currentMonthly.toLocaleString()}`;
            document.getElementById('target-monthly-goal').textContent = `Ïõî ‚Ç©${targetMonthly.toLocaleString()}`;

            const progress = appData.goals.targetRate > 0 ? 
                Math.min((appData.goals.currentRate / appData.goals.targetRate) * 100, 100) : 0;
            
            document.getElementById('progress-percentage').textContent = `${progress.toFixed(1)}%`;
            updateProgressCircle(progress);
        }

        // ÌÜµÍ≥Ñ ÎîîÏä§ÌîåÎ†àÏù¥ ÏóÖÎç∞Ïù¥Ìä∏
        function updateStatsDisplay() {
            document.getElementById('total-profit').textContent = `‚Ç©${appData.stats.totalProfit.toLocaleString()}`;
            document.getElementById('total-loss').textContent = `‚Ç©${appData.stats.totalLoss.toLocaleString()}`;
            document.getElementById('current-streak').textContent = appData.stats.currentStreak;
            document.getElementById('week-tasks').textContent = appData.stats.thisWeekTasks;
            document.getElementById('total-completed').textContent = appData.stats.totalTasks;
            
            updateDailyMotivation();
            updateDailyMission();
        }

        // Ïò§ÎäòÏùò ÎèôÍ∏∞Î∂ÄÏó¨ Î©îÏãúÏßÄ
        function updateDailyMotivation() {
            const messages = [
                "üí™ Ïò§ÎäòÎèÑ Î™©ÌëúÎ•º Ìñ•Ìï¥ Ìïú Í±∏Ïùå!",
                "üî• Ïó∞ÏÜç Îã¨ÏÑ±ÏúºÎ°ú ÏäµÍ¥ÄÏùÑ ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî!",
                "‚ö° ÏûëÏùÄ Ïã§ÌñâÏù¥ ÌÅ∞ Î≥ÄÌôîÎ•º ÎßåÎì≠ÎãàÎã§!",
                "üéØ ÏßëÏ§ëÌïòÎ©¥ Î∞òÎìúÏãú Îã¨ÏÑ±Ìï† Ïàò ÏûàÏñ¥Ïöî!",
                "üåü Ïñ¥Ï†úÎ≥¥Îã§ ÎÇòÏùÄ Ïò§ÎäòÏùÑ ÎßåÎì§Ïñ¥Í∞ÄÏöî!",
                "üíé Íæ∏Ï§ÄÌï®Ïù¥ Í∞ÄÏû• Í∞ïÎ†•Ìïú Î¨¥Í∏∞ÏûÖÎãàÎã§!",
                "üöÄ Î™©Ìëú Îã¨ÏÑ±ÍπåÏßÄ Í≥ÑÏÜç Ï†ÑÏßÑÌïòÏÑ∏Ïöî!"
            ];
            
            // Î∞∞ÏßÄ ÏãúÏä§ÌÖúÍ≥º Ïó∞ÎèôÎêú ÎèôÍ∏∞Î∂ÄÏó¨ Î©îÏãúÏßÄ
            if (appData.stats.currentStreak >= 30) {
                document.querySelector('.motivation-text').textContent = `üíé ${appData.stats.currentStreak}Ïùº Ïó∞ÏÜç! Îã§Ïù¥ÏïÑÎ™¨Îìú ÏäµÍ¥Ä Îã¨ÏÑ±!`;
            } else if (appData.stats.currentStreak >= 7) {
                document.querySelector('.motivation-text').textContent = `üèÜ ${appData.stats.currentStreak}Ïùº Ïó∞ÏÜç! ÏùºÏ£ºÏùº Ï±åÎ¶∞ÏßÄ ÏÑ±Í≥µ!`;
            } else if (appData.stats.currentStreak >= 3) {
                document.querySelector('.motivation-text').textContent = `üî• ${appData.stats.currentStreak}Ïùº Ïó∞ÏÜç! ÏäµÍ¥ÄÏù¥ ÎßåÎì§Ïñ¥ÏßÄÍ≥† ÏûàÏñ¥Ïöî!`;
            } else {
                const today = new Date().getDay();
                document.querySelector('.motivation-text').textContent = messages[today];
            }
            
            // Îã¨ÏÑ± Ïãú Î∞∞ÏßÄ ÌëúÏãú
            showAchievementBadge();
        }

        // Í∞ÑÎã®Ìïú Î∞∞ÏßÄ ÌëúÏãú ÏãúÏä§ÌÖú
        function showAchievementBadge() {
            const streak = appData.stats.currentStreak;
            const total = appData.stats.totalTasks;
            
            // Ï≤´ ÏôÑÎ£å
            if (total === 1) {
                showBadgeNotification("üéâ Ï≤´ ÏôÑÎ£å!", "Ï≤´ Î≤àÏß∏ ÏûëÏóÖÏùÑ ÏôÑÎ£åÌñàÏäµÎãàÎã§!");
            }
            // Ïó∞ÏÜç Î∞∞ÏßÄ
            else if (streak === 3) {
                showBadgeNotification("üî• 3Ïùº Ïó∞ÏÜç!", "Íæ∏Ï§ÄÌï®Ïùò ÌûòÏù¥ ÏãúÏûëÎêòÏóàÏäµÎãàÎã§!");
            }
            else if (streak === 7) {
                showBadgeNotification("üèÜ ÏùºÏ£ºÏùº Îã¨ÏÑ±!", "ÏùºÏ£ºÏùº Ïó∞ÏÜç Îã¨ÏÑ±! ÎåÄÎã®Ìï¥Ïöî!");
            }
            else if (streak === 30) {
                showBadgeNotification("üíé ÌïúÎã¨ ÎßàÏä§ÌÑ∞!", "30Ïùº Ïó∞ÏÜç Îã¨ÏÑ±! ÏßÑÏ†ïÌïú ÏäµÍ¥Ä!");
            }
            // Ï¥ù ÏôÑÎ£å Î∞∞ÏßÄ
            else if (total === 10) {
                showBadgeNotification("‚≠ê 10Í∞ú Îã¨ÏÑ±!", "Ï¥ù 10Í∞ú ÏûëÏóÖÏùÑ ÏôÑÎ£åÌñàÏäµÎãàÎã§!");
            }
            else if (total === 50) {
                showBadgeNotification("üåü 50Í∞ú Îã¨ÏÑ±!", "Ï¥ù 50Í∞ú ÏûëÏóÖ ÏôÑÎ£å! ÎÜÄÎùºÏõåÏöî!");
            }
            else if (total === 100) {
                showBadgeNotification("üëë 100Í∞ú Îã¨ÏÑ±!", "Î∞±Ï†ÑÎ∞±Ïäπ! ÏßÑÏ†ïÌïú Ïã§ÌñâÏùò Ïôï!");
            }
        }

        // Î∞∞ÏßÄ ÏïåÎ¶º ÌëúÏãú
        function showBadgeNotification(title, message) {
            // Ïù¥ÎØ∏ Ïù¥ Î∞∞ÏßÄÎ•º Î∞õÏïòÎäîÏßÄ ÌôïÏù∏
            const badgeKey = title.replace(/[^a-zA-Z0-9]/g, '');
            if (localStorage.getItem(`badge_${badgeKey}`)) {
                return; // Ïù¥ÎØ∏ Î∞õÏùÄ Î∞∞ÏßÄ
            }
            
            // Î∞∞ÏßÄ Í∏∞Î°ù
            localStorage.setItem(`badge_${badgeKey}`, 'true');
            
            // ÏïåÎ¶º ÌëúÏãú (Îçî ÎààÏóê ÎùÑÍ≤å)
            setTimeout(() => {
                alert(`üéä ÏÉàÎ°úÏö¥ Î∞∞ÏßÄ ÌöçÎìù!\n\n${title}\n${message}\n\nÍ≥ÑÏÜçÌï¥ÏÑú Î™©ÌëúÎ•º Îã¨ÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî!`);
            }, 1000);
        }

        // Ïò§ÎäòÏùò ÎØ∏ÏÖò ÏóÖÎç∞Ïù¥Ìä∏
        function updateDailyMission() {
            const missions = [
                "Ï≤´ Î≤àÏß∏ ÏûëÏóÖÏùÑ 30Î∂Ñ Ïù¥ÎÇ¥Ïóê ÏôÑÎ£åÌïòÍ∏∞",
                "2Í∞ú Ïù¥ÏÉÅÏùò ÏûëÏóÖÏùÑ Ïó∞ÏÜçÏúºÎ°ú ÏôÑÎ£åÌïòÍ∏∞", 
                "1ÏãúÍ∞Ñ ÏßëÏ§ëÌï¥ÏÑú Ìïú Í∞ÄÏßÄ ÏùºÏóêÎßå Î™∞ÏûÖÌïòÍ∏∞",
                "Ìè¨Í∏∞ÌïòÏßÄ ÏïäÍ≥† ÎÅùÍπåÏßÄ ÏôÑÏ£ºÌïòÍ∏∞",
                "Î™©Ìëú ÏãúÍ∞ÑÎ≥¥Îã§ 5Î∂Ñ ÏùºÏ∞ç ÏôÑÎ£åÌïòÍ∏∞",
                "Ïò§Îäò 3Í∞ú Ïù¥ÏÉÅÏùò ÏûëÏóÖ Îã¨ÏÑ±ÌïòÍ∏∞",
                "Ïó∞ÏÜç Îã¨ÏÑ±Ïùº Í∏∞Î°ù Í∞±Ïã†ÌïòÍ∏∞"
            ];
            
            const currentStreak = appData.stats.currentStreak;
            const totalTasks = appData.stats.totalTasks;
            
            let selectedMission;
            
            if (currentStreak === 0) {
                selectedMission = missions[0]; // Ï≤´ ÏôÑÎ£å Ïú†ÎèÑ
            } else if (currentStreak < 3) {
                selectedMission = missions[1]; // Ïó∞ÏÜç ÏôÑÎ£å Ïú†ÎèÑ
            } else if (currentStreak < 7) {
                selectedMission = missions[2]; // ÏßëÏ§ëÎ†• Ìñ•ÏÉÅ
            } else {
                // Í≥†Í∏â ÎØ∏ÏÖòÎì§ ÎûúÎç§ ÏÑ†ÌÉù
                const advancedMissions = missions.slice(3);
                const today = new Date().getDay();
                selectedMission = advancedMissions[today % advancedMissions.length];
            }
            
            document.getElementById('mission-content').textContent = selectedMission;
        }

        // ÏßÑÌñâÎ•† ÏõêÌòï Í≤åÏù¥ÏßÄ ÏóÖÎç∞Ïù¥Ìä∏
        function updateProgressCircle(percentage) {
            const circle = document.getElementById('progress-circle');
            const radius = 60;
            const circumference = 2 * Math.PI * radius;
            const offset = circumference - (percentage / 100) * circumference;
            
            circle.style.strokeDasharray = circumference;
            circle.style.strokeDashoffset = offset;
        }

        // ÌÉ≠ Ï†ÑÌôò
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active');
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            
            hideAllForms();
        }

        // Î™®Îì† Ìèº Ïà®Í∏∞Í∏∞
        function hideAllForms() {
            document.querySelectorAll('.input-form').forEach(form => {
                form.style.display = 'none';
            });
            editingTodoId = null;
            convertingIdeaId = null;
        }

        // ÏÑ§Ï†ï Í¥ÄÎ†® Ìï®ÏàòÎì§
        function showSettings() {
            document.getElementById('settings-overlay').style.display = 'block';
        }

        function hideSettings() {
            document.getElementById('settings-overlay').style.display = 'none';
        }

        function updateSettingsUI() {
            document.querySelectorAll('.toggle-switch').forEach(toggle => {
                const setting = toggle.dataset.setting;
                toggle.classList.toggle('active', appData.settings[setting]);
            });
        }

        function updateBannerVisibility() {
            const banners = [
                document.getElementById('motivation-banner'),
                document.getElementById('goal-motivation-banner')
            ];
            
            banners.forEach(banner => {
                if (banner) {
                    if (appData.settings.motivationBanner) {
                        banner.style.display = 'block';
                    } else {
                        banner.style.display = 'none';
                    }
                }
            });
        }

        // ÏãúÍ∞Ñ Ïä¨ÎùºÏù¥Îçî Í¥ÄÎ†® Ìï®ÏàòÎì§
        function updateTimeDisplay(formType, value) {
            const displayId = formType + '-time-display';
            const previewId = formType + '-money-preview';
            
            document.getElementById(displayId).textContent = value + 'Î∂Ñ';
            
            // Ìï¥ÎãπÌïòÎäî Ïπ©ÎèÑ ÏóÖÎç∞Ïù¥Ìä∏
            const form = document.getElementById(formType + '-form') || document.getElementById('convert-form');
            if (form) {
                const chips = form.querySelectorAll('.option-btn');
                chips.forEach(chip => {
                    chip.classList.remove('selected');
                    if (chip.dataset.time == value) {
                        chip.classList.add('selected');
                    }
                });
                updateMoneyPreview(form);
            }
        }

        function updateMoneyPreview(form) {
            const slider = form.querySelector('.time-slider');
            const preview = form.querySelector('.money-preview');
            // ÏÑ†ÌÉù ÏûÖÎ†• Í∞ÄÏπò Í∏àÏï°Ïù¥ ÏûàÏúºÎ©¥ Í∑∏ Í∞íÏùÑ Ïö∞ÏÑ† ÌëúÏãú
            const valueInput = form.querySelector('#todo-value, #convert-value');
            const customValue = valueInput ? parseInt(valueInput.value) : null;
            
            if (slider && preview) {
                const minutes = parseInt(slider.value);
                const expectedEarning = customValue != null ? customValue : (appData.goals.currentRate > 0 ? Math.floor((appData.goals.currentRate / 60) * minutes) : 0);
                const expectedLoss = appData.goals.targetRate > 0 ? Math.floor((appData.goals.targetRate / 60) * minutes) : 0;
                
                preview.textContent = `ÏòàÏÉÅ ÏàòÏùµ ‚Ç©${expectedEarning.toLocaleString()} / ÏòàÏÉÅ ÏÜêÏã§ ‚Ç©${expectedLoss.toLocaleString()}`;
            }
        }

        // Ìï† Ïùº Í¥ÄÎ†® Ìï®ÏàòÎì§
        function showTodoForm() {
            hideAllForms();
            document.getElementById('todo-form').style.display = 'block';
            document.getElementById('todo-title').focus();
        }

        function hideTodoForm() {
            document.getElementById('todo-form').style.display = 'none';
            document.getElementById('todo-title').value = '';
            editingTodoId = null;
        }

        function saveTodo() {
            const title = document.getElementById('todo-title').value.trim();
            const timeSlider = document.getElementById('todo-time-slider');
            const timeMinutes = parseInt(timeSlider.value);
            const repeat = document.querySelector('#todo-form .repeat-selector .option-btn.selected').dataset.repeat;
            const customValue = parseInt(document.getElementById('todo-value').value) || null;
            const quickComplete = document.getElementById('todo-quick-complete').checked;

            if (!title) {
                alert('Ìï† ÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            if (editingTodoId) {
                // ÏàòÏ†ï Î™®Îìú
                const todoIndex = appData.todos.findIndex(t => t.id === editingTodoId);
                if (todoIndex !== -1) {
                    appData.todos[todoIndex] = {
                        ...appData.todos[todoIndex],
                        title: title,
                        timeMinutes: timeMinutes,
                        repeat: repeat,
                        value: customValue,
                        quick: quickComplete
                    };
                }
            } else {
                // ÏÉà Ìï† Ïùº Ï∂îÍ∞Ä
                const todo = {
                    id: Date.now(),
                    title: title,
                    timeMinutes: timeMinutes,
                    repeat: repeat,
                    value: customValue,
                    quick: quickComplete,
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                appData.todos.push(todo);
            }

            saveAppData();
            renderTodos();
            hideTodoForm();
        }

        function renderTodos() {
            const todoList = document.getElementById('todo-list');
            todoList.innerHTML = '';

            appData.todos.forEach(todo => {
                const todoItem = document.createElement('div');
                todoItem.className = 'list-item';
                const quickBox = todo.quick ? `<input type="checkbox" onchange="toggleTodoQuick(${todo.id}, this.checked)">` : '';
                todoItem.innerHTML = `
                    <div class="item-content">
                        <div class="item-title">${todo.title}</div>
                        <div class="item-meta">${todo.timeMinutes}Î∂Ñ ‚Ä¢ ${todo.repeat === 'daily' ? 'Îß§Ïùº Î∞òÎ≥µ' : 'ÌïúÎ≤àÎßå'}${todo.value ? ` ‚Ä¢ Í∞ÄÏπò ‚Ç©${todo.value.toLocaleString()}` : ''}</div>
                    </div>
                    <div class="item-actions">
                        ${quickBox}
                        <button class="action-btn start" onclick="startTodoTimer(${todo.id})" title="ÏãúÏûë">
                            <span class="icon icon-play"></span>
                        </button>
                        <button class="action-btn edit" onclick="editTodo(${todo.id})" title="ÏàòÏ†ï">
                            <span class="icon icon-edit"></span>
                        </button>
                        <button class="action-btn delete" onclick="deleteTodo(${todo.id})" title="ÏÇ≠Ï†ú">
                            <span class="icon icon-delete"></span>
                        </button>
                    </div>
                `;
                todoList.appendChild(todoItem);
            });
        }

        function toggleTodoQuick(id, checked) {
            const todo = appData.todos.find(t => t.id === id);
            if (!todo) return;
            if (checked) {
                // Ï≤¥ÌÅ¨ Ï¶âÏãú ÏôÑÎ£å Ï≤òÎ¶¨
                const earnedAmount = todo.value != null ? todo.value : Math.floor((appData.goals.currentRate / 60) * todo.timeMinutes);
                appData.stats.totalProfit += earnedAmount;
                appData.stats.successDays++;
                appData.stats.totalTasks++;
                updateStreakAndWeekly(true);
                if (todo.repeat === 'once') {
                    appData.todos = appData.todos.filter(t => t.id !== id);
                } else {
                    todo.completed = true;
                }
                saveAppData();
                renderTodos();
                updateAllDisplays();
                alert(`üéâ ÏôÑÎ£å Ï≤¥ÌÅ¨! ‚Ç©${earnedAmount.toLocaleString()} ÏàòÏùµ Î∞òÏòÅ`);
            }
        }

        function editTodo(id) {
            const todo = appData.todos.find(t => t.id === id);
            if (todo) {
                editingTodoId = id;
                hideAllForms();
                
                document.getElementById('todo-title').value = todo.title;
                
                // ÏãúÍ∞Ñ ÏÑ†ÌÉù (Ïä¨ÎùºÏù¥ÎçîÏôÄ Ïπ© ÎèôÍ∏∞Ìôî)
                const timeSlider = document.getElementById('todo-time-slider');
                const timeDisplay = document.getElementById('todo-time-display');
                
                timeSlider.value = todo.timeMinutes;
                timeDisplay.textContent = todo.timeMinutes + 'Î∂Ñ';
                
                document.querySelectorAll('#todo-form .time-chips .option-btn').forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.dataset.time == todo.timeMinutes) {
                        btn.classList.add('selected');
                    }
                });
                
                // ÏòàÏÉÅ ÏàòÏùµ/ÏÜêÏã§ ÏóÖÎç∞Ïù¥Ìä∏
                updateMoneyPreview(document.getElementById('todo-form'));
                
                // Î∞òÎ≥µ ÏÑ†ÌÉù
                document.querySelectorAll('#todo-form .repeat-selector .option-btn').forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.dataset.repeat === todo.repeat) {
                        btn.classList.add('selected');
                    }
                });
                
                document.getElementById('todo-form').style.display = 'block';
                document.getElementById('todo-title').focus();
            }
        }

        function deleteTodo(id) {
            if (confirm('Ïù¥ Ìï† ÏùºÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                appData.todos = appData.todos.filter(todo => todo.id !== id);
                saveAppData();
                renderTodos();
            }
        }

        function startTodoTimer(id) {
            const todo = appData.todos.find(t => t.id === id);
            if (todo) {
                appData.timer.currentTask = todo;
                appData.timer.totalTime = todo.timeMinutes * 60;
                appData.timer.timeLeft = appData.timer.totalTime;
                appData.timer.isRunning = false;
                appData.timer.isPaused = false;
                
                switchTab('timer-tab');
                updateTimerDisplay();
                updateTimerCircle();
            }
        }

        // ÏïÑÏù¥ÎîîÏñ¥ Í¥ÄÎ†® Ìï®ÏàòÎì§
        function showIdeaForm() {
            hideAllForms();
            document.getElementById('idea-form').style.display = 'block';
            document.getElementById('idea-title').focus();
        }

        function hideIdeaForm() {
            document.getElementById('idea-form').style.display = 'none';
            document.getElementById('idea-title').value = '';
            document.getElementById('idea-content').value = '';
        }

        function saveIdea() {
            const title = document.getElementById('idea-title').value.trim();
            const content = document.getElementById('idea-content').value.trim();

            if (!title || !content) {
                alert('Ï†úÎ™©Í≥º ÎÇ¥Ïö©ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            const idea = {
                id: Date.now(),
                title: title,
                content: content,
                createdAt: new Date().toISOString()
            };

            appData.ideas.push(idea);
            saveAppData();
            renderIdeas();
            hideIdeaForm();
        }

        function renderIdeas() {
            const ideasList = document.getElementById('ideas-list');
            ideasList.innerHTML = '';

            appData.ideas.slice().reverse().forEach(idea => {
                const ideaItem = document.createElement('div');
                ideaItem.className = 'list-item';
                
                const date = new Date(idea.createdAt);
                const formattedDate = `${date.getMonth() + 1}/${date.getDate()}`;
                
                ideaItem.innerHTML = `
                    <div class="item-content">
                        <div class="item-title">${idea.title}</div>
                        <div class="item-meta">${idea.content.substring(0, 50)}... ‚Ä¢ ${formattedDate}</div>
                    </div>
                    <div class="item-actions">
                        <button class="action-btn convert" onclick="showConvertForm(${idea.id})" title="Ìï†ÏùºÎ°ú Î≥ÄÌôò">
                            <span class="icon icon-convert"></span>
                        </button>
                        <button class="action-btn delete" onclick="deleteIdea(${idea.id})" title="ÏÇ≠Ï†ú">
                            <span class="icon icon-delete"></span>
                        </button>
                    </div>
                `;
                ideasList.appendChild(ideaItem);
            });
        }

        function deleteIdea(id) {
            if (confirm('Ïù¥ ÏïÑÏù¥ÎîîÏñ¥Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                appData.ideas = appData.ideas.filter(idea => idea.id !== id);
                saveAppData();
                renderIdeas();
            }
        }

        // ÏïÑÏù¥ÎîîÏñ¥ ‚Üí Ìï†Ïùº Î≥ÄÌôò
        function showConvertForm(id) {
            const idea = appData.ideas.find(i => i.id === id);
            if (idea) {
                convertingIdeaId = id;
                hideAllForms();
                
                document.getElementById('convert-title').value = idea.title;
                document.getElementById('convert-form').style.display = 'block';
            }
        }

        function confirmConvert() {
            const title = document.getElementById('convert-title').value.trim();
            const timeSlider = document.getElementById('convert-time-slider');
            const timeMinutes = parseInt(timeSlider.value);
            const repeat = document.querySelector('#convert-form .repeat-selector .option-btn.selected').dataset.repeat;
            const customValue = parseInt(document.getElementById('convert-value').value) || null;
            const quickComplete = document.getElementById('convert-quick-complete').checked;

            if (!title) {
                alert('Ìï† Ïùº Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            const todo = {
                id: Date.now(),
                title: title,
                timeMinutes: timeMinutes,
                repeat: repeat,
                value: customValue,
                quick: quickComplete,
                completed: false,
                createdAt: new Date().toISOString()
            };

            appData.todos.push(todo);
            saveAppData();
            renderTodos();
            
            cancelConvert();
            alert('ÏïÑÏù¥ÎîîÏñ¥Í∞Ä Ìï† ÏùºÎ°ú Î≥ÄÌôòÎêòÏóàÏäµÎãàÎã§!');
            switchTab('todos-tab');
        }

        function cancelConvert() {
            document.getElementById('convert-form').style.display = 'none';
            document.getElementById('convert-title').value = '';
            convertingIdeaId = null;
        }

        // ÌÉÄÏù¥Î®∏ Í¥ÄÎ†® Ìï®ÏàòÎì§
        function toggleTimer() {
            if (!appData.timer.currentTask) {
                alert('Î®ºÏ†Ä Ìï† ÏùºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            if (!appData.timer.isRunning) {
                startTimer();
            } else if (appData.timer.isPaused) {
                resumeTimer();
            } else {
                pauseTimer();
            }
        }

        function startTimer() {
            appData.timer.isRunning = true;
            appData.timer.isPaused = false;
            updatePlayPauseButton();
            
            appData.timer.interval = setInterval(() => {
                if (appData.timer.timeLeft > 0) {
                    appData.timer.timeLeft--;
                    updateTimerDisplay();
                    updateTimerCircle();
                    updateMoneyDisplay();
                } else {
                    completeTimer();
                }
            }, 1000);
        }

        // Ïó∞ÏÜçÏùºÏàòÏôÄ Ï£ºÍ∞Ñ ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
        function updateStreakAndWeekly(isSuccess) {
            const today = new Date().toDateString();
            const lastActive = appData.stats.lastActiveDate;
            
            if (isSuccess) {
                // Ïó∞ÏÜçÏùºÏàò Í≥ÑÏÇ∞
                if (lastActive) {
                    const lastDate = new Date(lastActive);
                    const todayDate = new Date(today);
                    const dayDiff = Math.floor((todayDate - lastDate) / (1000 * 60 * 60 * 24));
                    
                    if (dayDiff === 1) {
                        // Ïó∞ÏÜçÏùºÏàò Ï¶ùÍ∞Ä
                        appData.stats.currentStreak++;
                    } else if (dayDiff === 0) {
                        // Í∞ôÏùÄ ÎÇ† Ï∂îÍ∞Ä ÏôÑÎ£å (Ïó∞ÏÜçÏùºÏàò Ïú†ÏßÄ)
                    } else {
                        // Ïó∞ÏÜçÏùºÏàò Î¶¨ÏÖã
                        appData.stats.currentStreak = 1;
                    }
                } else {
                    // Ï≤´ ÏôÑÎ£å
                    appData.stats.currentStreak = 1;
                }
                
                // ÏµúÍ≥† Ïó∞ÏÜçÏùºÏàò ÏóÖÎç∞Ïù¥Ìä∏
                if (appData.stats.currentStreak > appData.stats.longestStreak) {
                    appData.stats.longestStreak = appData.stats.currentStreak;
                }
                
                // Ïù¥Î≤à Ï£º ÏôÑÎ£å ÏûëÏóÖ Ïàò Ï¶ùÍ∞Ä
                if (isThisWeek(today)) {
                    appData.stats.thisWeekTasks++;
                }
                
                appData.stats.lastActiveDate = today;
            } else {
                // Ïã§Ìå® Ïãú Ïó∞ÏÜçÏùºÏàò Î¶¨ÏÖãÌïòÏßÄ ÏïäÏùå (Ìè¨Í∏∞Ìï¥ÎèÑ Í∑∏ÎÇ† Îã§Î•∏ ÏûëÏóÖ Í∞ÄÎä•)
            }
        }

        // Ïù¥Î≤à Ï£ºÏù∏ÏßÄ ÌôïÏù∏
        function isThisWeek(dateString) {
            const date = new Date(dateString);
            const today = new Date();
            const startOfWeek = new Date(today.setDate(today.getDate() - today.getDay()));
            const endOfWeek = new Date(today.setDate(today.getDate() - today.getDay() + 6));
            
            return date >= startOfWeek && date <= endOfWeek;
        }

        // ÏÑ±Í≥º Í≥µÏú† Ìï®Ïàò
        function shareProgress() {
            const currentRate = appData.goals.currentRate;
            const targetRate = appData.goals.targetRate;
            const achievement = targetRate > 0 ? Math.round((currentRate / targetRate) * 100) : 0;
            const thisWeekEarning = Math.round(appData.stats.thisWeekTasks * (currentRate / 2)); // ÌèâÍ∑† 30Î∂Ñ Í∏∞Ï§Ä
            
            // Îçî Îß§Î†•Ï†ÅÏù¥Í≥† Í∞ÑÎã®Ìïú Í≥µÏú† ÌÖçÏä§Ìä∏
            let shareText = `üî• Ï≤úÏñµÎ∂ÄÏûê ÌÉÄÏù¥Î®∏ ÎèÑÏ†Ñ Ï§ë!\n\n`;
            
            if (appData.stats.currentStreak >= 7) {
                shareText += `üíé ${appData.stats.currentStreak}Ïùº Ïó∞ÏÜç Îã¨ÏÑ±! (ÎåÄÎ∞ï!)\n`;
            } else if (appData.stats.currentStreak >= 3) {
                shareText += `üî• ${appData.stats.currentStreak}Ïùº Ïó∞ÏÜç Îã¨ÏÑ±!\n`;
            } else {
                shareText += `üéØ Î™©ÌëúÎ•º Ìñ•Ìï¥ Îã¨Î†§Í∞ÄÎäî Ï§ë!\n`;
            }
            
            shareText += `üìä Ïù¥Î≤à Ï£º: ${appData.stats.thisWeekTasks}Í∞ú ÏôÑÎ£å\n`;
            shareText += `üí∞ Ïù¥Î≤à Ï£º ÏàòÏùµ: ‚Ç©${thisWeekEarning.toLocaleString()}\n`;
            shareText += `üöÄ Î™©Ìëú Îã¨ÏÑ±Î•†: ${achievement}%\n\n`;
            shareText += `"Ïã§ÌñâÎ†•Ïù¥ Ïù∏ÏÉùÏùÑ Î∞îÍæºÎã§"\n`;
            shareText += `üéØ Ï≤úÏñµÎ∂ÄÏûê ÌÉÄÏù¥Î®∏Î°ú ÎÇòÎèÑ ÎèÑÏ†ÑÌïòÍ∏∞!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Ï≤úÏñµÎ∂ÄÏûê ÌÉÄÏù¥Î®∏ ÏÑ±Í≥º',
                    text: shareText
                });
            } else if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('üéâ ÏÑ±Í≥ºÍ∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!\n\nÏπ¥Ïπ¥Ïò§ÌÜ° Ïä§ÌÜ†Î¶¨ÎÇò Ïù∏Ïä§ÌÉÄÍ∑∏Îû®Ïóê\nÎ∂ôÏó¨ÎÑ£Ïñ¥ÏÑú ÏûêÎûëÌï¥Î≥¥ÏÑ∏Ïöî! üí™');
                });
            } else {
                // ÏûÑÏãú ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÏÉùÏÑ±ÌïòÏó¨ Î≥µÏÇ¨
                const textArea = document.createElement('textarea');
                textArea.value = shareText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('üéâ ÏÑ±Í≥ºÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!\n\nÏπ¥Ïπ¥Ïò§ÌÜ° Ïä§ÌÜ†Î¶¨ÎÇò Ïù∏Ïä§ÌÉÄÍ∑∏Îû®Ïóê\nÎ∂ôÏó¨ÎÑ£Ïñ¥ÏÑú ÏûêÎûëÌï¥Î≥¥ÏÑ∏Ïöî! üí™');
            }
        }

        // Î≥¥Í≥†ÏÑú Î™®Îã¨
        function showReport() {
            updateReportDisplay();
            document.getElementById('report-overlay').style.display = 'block';
        }

        function hideReport() {
            document.getElementById('report-overlay').style.display = 'none';
        }

        function updateReportDisplay() {
            const profit = appData.stats.totalProfit || 0;
            const loss = appData.stats.totalLoss || 0;
            const net = profit - loss;
            document.getElementById('report-total-profit').textContent = `‚Ç©${profit.toLocaleString()}`;
            document.getElementById('report-total-loss').textContent = `‚Ç©${loss.toLocaleString()}`;
            document.getElementById('report-net-profit').textContent = `‚Ç©${net.toLocaleString()}`;

            const totalAbs = Math.max(1, Math.abs(profit) + Math.abs(loss));
            const profitPct = Math.min(100, Math.round((Math.abs(profit) / totalAbs) * 100));
            const lossPct = Math.min(100, Math.round((Math.abs(loss) / totalAbs) * 100));
            const netPct = Math.min(100, Math.max(0, Math.round((net / (totalAbs || 1)) * 100 + 50)));
            document.getElementById('chart-profit-fill').style.width = profitPct + '%';
            document.getElementById('chart-loss-fill').style.width = lossPct + '%';
            document.getElementById('chart-net-fill').style.width = Math.min(100, Math.max(0, profitPct - Math.min(profitPct, lossPct) + 20)) + '%';

            const streak = appData.stats.currentStreak || 0;
            const tasks = appData.stats.totalTasks || 0;
            let msg = 'Ïò§ÎäòÎèÑ Íæ∏Ï§ÄÌûà Í∞ÄÎ¥ÖÏãúÎã§! üî•';
            if (net > 0 && streak >= 3) msg = `Ï¢ãÏïÑÏöî! ÏàúÏù¥Ïùµ +‚Ç©${net.toLocaleString()} / ${streak}Ïùº Ïó∞ÏÜç! Í≥ÑÏÜç Í∞ëÏãúÎã§! üöÄ`;
            else if (net > 0) msg = `ÏàúÏù¥Ïùµ +‚Ç©${net.toLocaleString()} Îã¨ÏÑ±! Îã§Ïùå Î™©ÌëúÎèÑ Î∞îÎ°ú Ïù¥Ïñ¥Í∞ÄÏöî! üí™`;
            else if (loss > 0) msg = `ÏïÑÏâ¨ÏõåÏöî... ÏÜêÏã§ ‚Ç©${loss.toLocaleString()}. 15Î∂ÑÎßå ÏßëÏ§ëÌï¥ÏÑú ÎßåÌöåÌï¥Î≥ºÍπåÏöî? üïí`;
            else if (tasks === 0) msg = 'Ï≤´ ÏãúÏûëÏù¥ Î∞òÏûÖÎãàÎã§. 15Î∂Ñ ÌÉÄÏù¥Î®∏Î°ú Í∞ÄÎ≥çÍ≤å ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî! ‚ú®';
            document.getElementById('report-message-text').textContent = msg;
        }

        function shareReport() {
            const profit = appData.stats.totalProfit || 0;
            const loss = appData.stats.totalLoss || 0;
            const net = profit - loss;
            const text = `üìä Ï≤úÏñµÎ∂ÄÏûê ÌÉÄÏù¥Î®∏ Î¶¨Ìè¨Ìä∏\nÏ¥ù ÏàòÏùµ: ‚Ç©${profit.toLocaleString()}\nÏ¥ù ÏÜêÏã§: ‚Ç©${loss.toLocaleString()}\nÏàúÏàòÏùµ: ‚Ç©${net.toLocaleString()}\n#Ï≤úÏñµÎ∂ÄÏûêÌÉÄÏù¥Î®∏ #Ïã§ÌñâÎ†•`;
            if (navigator.share) {
                navigator.share({ title: 'ÏÑ±Í≥º Î≥¥Í≥†ÏÑú', text });
            } else if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => alert('Î≥¥Í≥†ÏÑúÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§. ÏõêÌïòÎäî Í≥≥Ïóê Î∂ôÏó¨ÎÑ£Í∏∞ ÌïòÏÑ∏Ïöî!'));
            } else {
                alert(text);
            }
        }

        function pauseTimer() {
            appData.timer.isPaused = true;
            clearInterval(appData.timer.interval);
            updatePlayPauseButton();
        }

        function resumeTimer() {
            appData.timer.isPaused = false;
            updatePlayPauseButton();
            startTimer();
        }

        function updatePlayPauseButton() {
            const btn = document.getElementById('play-pause-btn');
            const icon = btn.querySelector('.icon');
            
            if (!appData.timer.isRunning || appData.timer.isPaused) {
                icon.className = 'icon icon-play';
            } else {
                icon.className = 'icon icon-pause';
            }
        }

        function completeTimer() {
            clearInterval(appData.timer.interval);
            appData.timer.isRunning = false;
            appData.timer.isPaused = false;
            
            if (appData.timer.currentTask) {
                const earnedAmount = Math.floor((appData.goals.currentRate / 60) * appData.timer.currentTask.timeMinutes);
                
                // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
                appData.stats.totalProfit += earnedAmount;
                appData.stats.successDays++;
                appData.stats.totalTasks++;
                updateStreakAndWeekly(true);
                
                alert(`üéâ ÏûëÏóÖ ÏôÑÎ£å!\n‚Ç©${earnedAmount.toLocaleString()}ÏùÑ Î≤åÏñ¥Îì§ÏòÄÏäµÎãàÎã§!`);
                
                // ÌïúÎ≤àÎßå Ïã§ÌñâÌïòÎäî Ìï† ÏùºÏùÄ ÏÇ≠Ï†ú
                if (appData.timer.currentTask.repeat === 'once') {
                    appData.todos = appData.todos.filter(todo => todo.id !== appData.timer.currentTask.id);
                    renderTodos();
                }
                
                saveAppData();
            }
            
            resetTimer();
        }

        function giveUpTimer() {
            if (!appData.timer.isRunning && !appData.timer.currentTask) {
                alert('ÏßÑÌñâ Ï§ëÏù∏ ÏûëÏóÖÏù¥ ÏóÜÏäµÎãàÎã§!');
                return;
            }

            if (confirm('Ï†ïÎßê Ìè¨Í∏∞ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                clearInterval(appData.timer.interval);
                
                if (appData.timer.currentTask) {
                    const elapsedMinutes = (appData.timer.totalTime - appData.timer.timeLeft) / 60;
                    const lostAmount = Math.floor((appData.goals.targetRate / 60) * elapsedMinutes);
                    
                    // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
                    appData.stats.totalLoss += lostAmount;
                    appData.stats.failDays++;
                    updateStreakAndWeekly(false);
                    
                    alert(`üòî ÏûëÏóÖ Ìè¨Í∏∞...\n‚Ç©${lostAmount.toLocaleString()}Ïùò Í∏∞ÌöåÎπÑÏö©Ïù¥ Î∞úÏÉùÌñàÏäµÎãàÎã§.`);
                    saveAppData();
                }
                
                resetTimer();
            }
        }

        function resetTimer() {
            appData.timer.isRunning = false;
            appData.timer.isPaused = false;
            appData.timer.timeLeft = 0;
            appData.timer.currentTask = null;
            updateTimerDisplay();
            updateTimerCircle();
            updateMoneyDisplay();
            updatePlayPauseButton();
            updateStatsDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(appData.timer.timeLeft / 60);
            const seconds = appData.timer.timeLeft % 60;
            
            document.getElementById('timer-time').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('timer-task').textContent = 
                appData.timer.currentTask ? appData.timer.currentTask.title : 'ÏûëÏóÖÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî';
        }

        function updateTimerCircle() {
            const circle = document.getElementById('timer-progress');
            const radius = 135;
            const circumference = 2 * Math.PI * radius;
            
            if (appData.timer.totalTime > 0) {
                const percentage = ((appData.timer.totalTime - appData.timer.timeLeft) / appData.timer.totalTime) * 100;
                const offset = circumference - (percentage / 100) * circumference;
                
                circle.style.strokeDasharray = circumference;
                circle.style.strokeDashoffset = offset;
            } else {
                circle.style.strokeDasharray = circumference;
                circle.style.strokeDashoffset = circumference;
            }
        }

        function updateMoneyDisplay() {
            const moneyAmount = document.getElementById('money-amount');
            const moneyStatus = document.getElementById('money-status');
            const lossSection = document.getElementById('money-loss');
            const lossAmount = document.getElementById('loss-amount');

            if (appData.timer.isRunning && appData.timer.currentTask && !appData.timer.isPaused) {
                const elapsedMinutes = (appData.timer.totalTime - appData.timer.timeLeft) / 60;
                const earnedAmount = Math.floor((appData.goals.currentRate / 60) * elapsedMinutes);
                
                moneyAmount.textContent = `‚Ç©${earnedAmount.toLocaleString()}`;
                moneyStatus.textContent = 'Î≤åÏñ¥Îì§Ïù¥Îäî Ï§ë';
                
                const potentialLoss = Math.floor((appData.goals.targetRate / 60) * elapsedMinutes);
                lossAmount.textContent = `‚Ç©${potentialLoss.toLocaleString()} ÏÜêÌï¥`;
                lossSection.style.display = appData.settings.showLoss ? 'block' : 'none';
                
                // Î™®Î∞îÏùº Ïπ¥Îìú ÏóÖÎç∞Ïù¥Ìä∏
                document.getElementById('mobile-earning').textContent = `‚Ç©${earnedAmount.toLocaleString()}`;
                document.getElementById('mobile-loss').textContent = `‚Ç©${potentialLoss.toLocaleString()}`;
                document.getElementById('mobile-loss-card').style.display = appData.settings.showLoss ? 'flex' : 'none';
                
                if (appData.timer.timeLeft % 30 === 0) {
                    lossAmount.classList.add('shake');
                    setTimeout(() => lossAmount.classList.remove('shake'), 500);
                }
                
            } else if (appData.timer.isPaused) {
                moneyStatus.textContent = 'ÏùºÏãúÏ†ïÏßÄÎê®';
                lossSection.style.display = 'none';
                
                // Î™®Î∞îÏùº Ïπ¥Îìú ÏóÖÎç∞Ïù¥Ìä∏
                document.getElementById('mobile-loss-card').style.display = 'none';
            } else {
                moneyAmount.textContent = '‚Ç©0';
                moneyStatus.textContent = 'ÎåÄÍ∏∞ Ï§ë';
                lossSection.style.display = 'none';
                
                // Î™®Î∞îÏùº Ïπ¥Îìú ÏóÖÎç∞Ïù¥Ìä∏
                document.getElementById('mobile-earning').textContent = '‚Ç©0';
                document.getElementById('mobile-loss-card').style.display = 'none';
            }
        }
    </script>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js').catch(console.error);
  });
}
</script>

</body>
</html>
